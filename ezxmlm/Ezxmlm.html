<div class="ocaml_top"><div class="ocaml_summary"><div class="info">An &quot;easy&quot; interface on top of the <code class="code">Xmlm</code> library. This version provides
more convenient (but far less flexible) input and output functions that
go to and from <code class="code">string</code> values. This avoids the need to write signal code,
which is useful for quick scripts that manipulate XML.<p>More advanced users should go straight to the <code class="code">Xmlm</code> library and use it
directly, rather than be saddled with the Ezxmlm interface below.</p></div></div>
<div class="ocaml_content"><div class="info"><h1 id="1_TITLE">Basic types</h1></div>
<pre class="odoccode"><span class="TYPEnode"><span class="keyword">type</span> node</span> = <code class="type">('a <a href="http://mirage.github.io/xmlm/#Xmlm.frag">Xmlm.frag</a> as 'a) <a href="http://mirage.github.io/xmlm/#Xmlm.frag">Xmlm.frag</a></code></pre><div class="info">The type of a single XML tag</div>
<pre class="odoccode"><span class="TYPEnodes"><span class="keyword">type</span> nodes</span> = <code class="type"><a href="http://mirage.github.io/ezxmlm/#Ezxmlm.node" class="ocaml_internal">node</a> list</code></pre><div class="info">The type of a list of XML tags</div>
<pre class="odoccode"><span class="EXCEPTIONTag_not_found"><span class="keyword">exception</span> Tag_not_found</span> <span class="keyword">of</span> <code class="type">string</code></pre><div class="info">Raised by the query combinators</div>
<div class="info"><h1 id="1_TITLE">Reading XML values</h1></div>
<pre class="odoccode"><span class="VALfrom_channel"><span class="keyword">val</span> from_channel</span> : <code class="type">in_channel -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.dtd">Xmlm.dtd</a> * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Read an XML document from an <code class="code">in_channel</code></div>
<pre class="odoccode"><span class="VALfrom_string"><span class="keyword">val</span> from_string</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.dtd">Xmlm.dtd</a> * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Read an XML document directly from a <code class="code">string</code></div>
<pre class="odoccode"><span class="VALfrom_input"><span class="keyword">val</span> from_input</span> : <code class="type"><a href="http://mirage.github.io/xmlm/#Xmlm.input">Xmlm.input</a> -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.dtd">Xmlm.dtd</a> * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.node" class="ocaml_internal">node</a></code></pre><div class="info">Low-level function to read directly from an <code class="code">Xmlm</code> input source</div>
<div class="info"><h1 id="1_TITLE">Writing XML values</h1></div>
<pre class="odoccode"><span class="VALto_channel"><span class="keyword">val</span> to_channel</span> : <code class="type">out_channel -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.dtd">Xmlm.dtd</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; unit</code></pre><div class="info">Write an XML document to an <code class="code">out_channel</code></div>
<pre class="odoccode"><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type">?dtd:string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; string</code></pre><div class="info">Write an XML document to a <code class="code">string</code>. This goes via an intermediate
<code class="code">Buffer</code> and so may be slow on large documents.</div>
<pre class="odoccode"><span class="VALto_output"><span class="keyword">val</span> to_output</span> : <code class="type"><a href="http://mirage.github.io/xmlm/#Xmlm.output">Xmlm.output</a> -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.dtd">Xmlm.dtd</a> * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.node" class="ocaml_internal">node</a> -&gt; unit</code></pre><div class="info">Low-level function to write directly to an <code class="code">Xmlm</code> output source</div>
<div class="info"><h1 id="1_TITLE">Attribute handling</h1></div>
<pre class="odoccode"><span class="VALfilter_attrs"><span class="keyword">val</span> filter_attrs</span> : <code class="type">string -&gt;
string -&gt;
(<a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a>) list -&gt; (<a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a>) list</code></pre><div class="info">Given some selected attributes and nodes (usually from <code class="code">members_with_attr</code>)
return the ones that match the <code class="code">class</code> and <code class="code">value</code> supplied.</div>
<pre class="odoccode"><span class="VALfilter_attr"><span class="keyword">val</span> filter_attr</span> : <code class="type">string -&gt;
string -&gt; (<a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a>) list -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Given some selected attributes and nodes (usually from <code class="code">members_with_attr</code>)
return the first that matches the <code class="code">class</code> and <code class="code">value</code> supplied.
Raises <code class="code">Not_found</code> if nothing matches.</div>
<pre class="odoccode"><span class="VALmem_attr"><span class="keyword">val</span> mem_attr</span> : <code class="type">string -&gt; string -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list -&gt; bool</code></pre><div class="info"><code class="code">mem_attr name value attrs</code> returns true if the <code class="code">name</code> key is
with value <code class="code">value</code> is present in the <code class="code">attrs</code> attribute list.</div>
<pre class="odoccode"><span class="VALget_attr"><span class="keyword">val</span> get_attr</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list -&gt; string</code></pre><div class="info"><code class="code">get_attr name attrs</code> returns the value associated with key
<code class="code">name</code> in the <code class="code">attrs</code> attribute list.
Raised <code class="code">Not_found</code> if the attribute is not present.</div>
<div class="info"><h1 id="1_TITLE">Selectors and utility functions</h1></div>
<pre class="odoccode"><span class="VALpick_tags"><span class="keyword">val</span> pick_tags</span> : <code class="type">string -&gt; string -&gt; string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info"><code class="code">pick_tags tag attr value</code> selects all the child nodes that
match the <code class="code">tag</code> name and contain an attribute with name <code class="code">tag</code>
and <code class="code">value</code>.</div>
<pre class="odoccode"><span class="VALpick_tag"><span class="keyword">val</span> pick_tag</span> : <code class="type">string -&gt; string -&gt; string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.node" class="ocaml_internal">node</a></code></pre><div class="info"><code class="code">pick_tag tag attr value</code> selects the first child node that
matches the <code class="code">tag</code> name and contain an attribute with name <code class="code">tag</code>
and <code class="code">value</code>.
Raises <code class="code">Not_found</code> if no such node exists.</div>
<pre class="odoccode"><span class="VALhd"><span class="keyword">val</span> hd</span> : <code class="type"><a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.node" class="ocaml_internal">node</a></code></pre><div class="info">Return the first tag in the list of nodes.
Raised <code class="code">Not_found</code> if the nodes are empty</div>
<pre class="odoccode"><span class="VALtl"><span class="keyword">val</span> tl</span> : <code class="type"><a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Return all the tags but the first one in a list of nodes.
Returns an empty list if the list is empty.</div>
<pre class="odoccode"><span class="VALmake_tag"><span class="keyword">val</span> make_tag</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.node" class="ocaml_internal">node</a></code></pre><div class="info">Make a tag given a <code class="code">tag</code> name and body attributes and nodes</div>
<pre class="odoccode"><span class="VALdata_to_string"><span class="keyword">val</span> data_to_string</span> : <code class="type"><a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; string</code></pre><div class="info">Convert a list of <code class="code">`Data</code> fragments to a human-readable string. Any elements
within the list are ignored, and multiple <code class="code">`Data</code> fragments are concatenated.</div>
<pre class="odoccode"><span class="VALmembers_with_attr"><span class="keyword">val</span> members_with_attr</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; (<a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a>) list</code></pre><div class="info">Extracts the immediate subnodes that match the given <code class="code">tag</code> name and return
a tuple of the attributes associated with that tag and its child nodes.</div>
<pre class="odoccode"><span class="VALmembers"><span class="keyword">val</span> members</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> list</code></pre><div class="info">Extracts the immediate subnodes that match the given <code class="code">tag</code> name, and only return
the contents of those tags (ignoring the attributes, which can be retrieved via
the <code class="code">members_with_attr</code> function</div>
<pre class="odoccode"><span class="VALmember_with_attr"><span class="keyword">val</span> member_with_attr</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list * <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Extracts the first subnode that match the given <code class="code">tag</code> name, and raises
<code class="code">Tag_not_found</code> if it can't find it.</div>
<pre class="odoccode"><span class="VALmember"><span class="keyword">val</span> member</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Extracts the first subnode that match the given <code class="code">tag</code> name, and raises
<code class="code">Tag_not_found</code> if it can't find it. Only the contents of the tag are
returned (ignoring the attributes, which can be retrieved via the
<code class="code">member_with_attr</code> function instead</div>
<pre class="odoccode"><span class="VALfilter_map"><span class="keyword">val</span> filter_map</span> : <code class="type">tag:string -&gt; f:(<a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a>) -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a></code></pre><div class="info">Traverses XML nodes and applies <code class="code">f</code> to any tags that match the <code class="code">tag</code> parameter.
The result of the transformations is returned as a new set of nodes.</div>
<pre class="odoccode"><span class="VALfilter_iter"><span class="keyword">val</span> filter_iter</span> : <code class="type">tag:string -&gt; f:(<a href="http://mirage.github.io/xmlm/#Xmlm.attribute">Xmlm.attribute</a> list -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; unit) -&gt; <a href="http://mirage.github.io/ezxmlm/#Ezxmlm.nodes" class="ocaml_internal">nodes</a> -&gt; unit</code></pre><div class="info">Traverses XML nodes and applies <code class="code">f</code> to any tags that match the <code class="code">tag</code> parameter.</div>
</div></div>
<div class="ocaml_top"><div class="ocaml_summary"><div class="info">This module provides functions for tampering with Url. It's main goal is to
allow one to stay in the Ocaml realm without wandering into the
Dom_html.window##location object.</div></div>
<div class="ocaml_content"><div class="info">The first functions are mainly from and to string conversion functions for
the different parts of a url.</div>
<pre class="odoccode"><span class="VALurldecode"><span class="keyword">val</span> urldecode</span> : <code class="type">string -&gt; string</code></pre><div class="info"><code class="code">urldecode s</code> swaps percent encoding characters for their usual
representation.</div>
<pre class="odoccode"><span class="VALurlencode"><span class="keyword">val</span> urlencode</span> : <code class="type">?with_plus:bool -&gt; string -&gt; string</code></pre><div class="info"><code class="code">urlencode ?with_plus s</code> replace characters for their percent encoding
representation. Note that the '/' (slash) character is escaped as well. If
<code class="code">with_plus</code> is <code class="code">true</code> (default) then <code class="code">'+'</code>'s are escaped as <code class="code">&quot;%2B&quot;</code>. If not,
<code class="code">'+'</code>'s are left as is.</div>
<pre class="odoccode"><code><span class="TYPEhttp_url"><span class="keyword">type</span> http_url</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELThttp_url.hu_host">hu_host</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The host part of the url.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELThttp_url.hu_port">hu_port</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The port for the connection if any.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELThttp_url.hu_path">hu_path</span> : <code class="type">string list</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The path splitted on <code class="code">'/'</code> characters.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELThttp_url.hu_path_string">hu_path_string</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The original entire path.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELThttp_url.hu_arguments">hu_arguments</span> : <code class="type">(string * string) list</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Arguments as a field-value
association list.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELThttp_url.hu_fragment">hu_fragment</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The fragment part (after the <code class="code">'#'</code> character).</div></td></tr><tr><td>}</td></tr></table><div class="info">The type for HTTP(s) url.</div>
<pre class="odoccode"><code><span class="TYPEfile_url"><span class="keyword">type</span> file_url</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTfile_url.fu_path">fu_path</span> : <code class="type">string list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTfile_url.fu_path_string">fu_path_string</span> : <code class="type">string</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTfile_url.fu_arguments">fu_arguments</span> : <code class="type">(string * string) list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTfile_url.fu_fragment">fu_fragment</span> : <code class="type">string</code>;</code></td></tr><tr><td>}</td></tr></table><div class="info">The type for local file urls.</div>
<pre class="odoccode"><code><span class="TYPEurl"><span class="keyword">type</span> url</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTurl.Http"><span class="constructor">Http</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/js_of_ocaml/#Url.http_url" class="ocaml_internal">http_url</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Non secure HTTP urls</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTurl.Https"><span class="constructor">Https</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/js_of_ocaml/#Url.http_url" class="ocaml_internal">http_url</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Secure HTTPS urls</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTurl.File"><span class="constructor">File</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/js_of_ocaml/#Url.file_url" class="ocaml_internal">file_url</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Local files</div></td></tr></table><div class="info">The type for urls.</div>
<pre class="odoccode"><span class="VALdefault_http_port"><span class="keyword">val</span> default_http_port</span> : <code class="type">int</code></pre><div class="info">The default port for <code class="code">Http</code> communications (80).</div>
<pre class="odoccode"><span class="VALdefault_https_port"><span class="keyword">val</span> default_https_port</span> : <code class="type">int</code></pre><div class="info">The default port for <code class="code">Https</code> communications (443).</div>
<pre class="odoccode"><span class="VALpath_of_path_string"><span class="keyword">val</span> path_of_path_string</span> : <code class="type">string -&gt; string list</code></pre><div class="info"><code class="code">path_of_path_string s</code> splits <code class="code">s</code> on each <code class="code">&quot;/&quot;</code> character.</div>
<pre class="odoccode"><span class="VALencode_arguments"><span class="keyword">val</span> encode_arguments</span> : <code class="type">(string * string) list -&gt; string</code></pre><div class="info"><code class="code">encode_arguments a</code> expects a list of pair of values of the form
<code class="code">(name,value)</code> were <code class="code">name</code> is the name of an argument and <code class="code">value</code> it's
associated value.</div>
<pre class="odoccode"><span class="VALdecode_arguments"><span class="keyword">val</span> decode_arguments</span> : <code class="type">string -&gt; (string * string) list</code></pre><div class="info"><code class="code">decode_arguments s</code> parses <code class="code">s</code> returning the sliced-diced
association list.</div>
<div class="info">The following part allow one to handle Url object in a much higher level
than what a string provides.</div>
<pre class="odoccode"><span class="VALurl_of_string"><span class="keyword">val</span> url_of_string</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/js_of_ocaml/#Url.url" class="ocaml_internal">url</a> option</code></pre><div class="info"><code class="code">url_of_string s</code> parses <code class="code">s</code> and builds a value of type <code class="code">url</code> if <code class="code">s</code> is not
a valid url string, it returns <code class="code">None</code>.</div>
<pre class="odoccode"><span class="VALstring_of_url"><span class="keyword">val</span> string_of_url</span> : <code class="type"><a href="http://mirage.github.io/js_of_ocaml/#Url.url" class="ocaml_internal">url</a> -&gt; string</code></pre><div class="info"><code class="code">string_of_url u</code> returns a valid string representation of <code class="code">u</code>. Note that
<code class="code">string_of_url ((fun Some u -&gt; u) (url_of_string s))</code> is NOT necessarily
equal to <code class="code">s</code>. However <code class="code">url_of_string (string_of_url u) = u</code>.</div>
<div class="ocaml_module" name="Current"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/js_of_ocaml/#Url.Current" class="ocaml_internal">Current</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">This module can be used to handle the Url associated to the current
document.</div></div><div class="ocaml_content">
<pre class="odoccode"><span class="VALhost"><span class="keyword">val</span> host</span> : <code class="type">string</code></pre><div class="info">The host part of the current url.</div>
<pre class="odoccode"><span class="VALport"><span class="keyword">val</span> port</span> : <code class="type">int option</code></pre><div class="info">The port of the current url.</div>
<pre class="odoccode"><span class="VALpath_string"><span class="keyword">val</span> path_string</span> : <code class="type">string</code></pre><div class="info">The path of the current url as one long string.</div>
<pre class="odoccode"><span class="VALpath"><span class="keyword">val</span> path</span> : <code class="type">string list</code></pre><div class="info">The path of the current url as a list of small string.</div>
<pre class="odoccode"><span class="VALarguments"><span class="keyword">val</span> arguments</span> : <code class="type">(string * string) list</code></pre><div class="info">The arguments of the current url as an association list.</div>
<pre class="odoccode"><span class="VALget_fragment"><span class="keyword">val</span> get_fragment</span> : <code class="type">unit -&gt; string</code></pre><div class="info">Because the <code class="code">fragment</code> of the Url for the current document can change
dynamically, we use a functional value here.</div>
<pre class="odoccode"><span class="VALset_fragment"><span class="keyword">val</span> set_fragment</span> : <code class="type">string -&gt; unit</code></pre><div class="info"><code class="code">set_fragment s</code> replaces the current fragment by <code class="code">s</code>.</div>
<pre class="odoccode"><span class="VALget"><span class="keyword">val</span> get</span> : <code class="type">unit -&gt; <a href="http://mirage.github.io/js_of_ocaml/#Url.url" class="ocaml_internal">url</a> option</code></pre><div class="info"><code class="code">get ()</code> returns a value of type url with fields reflecting the
state of the current Url.</div>
<pre class="odoccode"><span class="VALset"><span class="keyword">val</span> set</span> : <code class="type"><a href="http://mirage.github.io/js_of_ocaml/#Url.url" class="ocaml_internal">url</a> -&gt; unit</code></pre><div class="info"><code class="code">set u</code> replaces the current Url for <code class="code">u</code>. <b>WARNING:</b> Causes the
document to change.</div>
<pre class="odoccode"><span class="VALas_string"><span class="keyword">val</span> as_string</span> : <code class="type">string</code></pre><div class="info"><code class="code">as_string</code> is the original string representation of the current Url. It
is NOT necessarily equals to <code class="code">string_of_url (get ())</code> but
<code class="code">url_of_string as_string = get ()</code> holds.</div></div></div>
</div></div>
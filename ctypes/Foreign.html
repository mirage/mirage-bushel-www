<div class="ocaml_top"><div class="ocaml_summary"><div class="info">High-level bindings for C functions and values</div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="VALforeign"><span class="keyword">val</span> foreign</span> : <code class="type">?from:<a href="http://mirage.github.io/ctypes/#Dl.library">Dl.library</a> -&gt;
?stub:bool -&gt; ?check_errno:bool -&gt; string -&gt; ('a -&gt; 'b) <a href="http://mirage.github.io/ctypes/#Ctypes.fn">Ctypes.fn</a> -&gt; 'a -&gt; 'b</code></pre><div class="info"><code class="code">foreign name typ</code> exposes the C function of type <code class="code">typ</code> named by <code class="code">name</code> as
an OCaml value.<p>The argument <code class="code">?from</code>, if supplied, is a library handle returned by
Dl.dlopen.</p><p>The argument <code class="code">?stub</code>, if <code class="code">true</code> (defaults to <code class="code">false</code>), indicates that the
function should not raise an exception if <code class="code">name</code> is not found but return
an OCaml value that raises an exception when called.</p><p>The value <code class="code">?check_errno</code>, which defaults to <code class="code">false</code>, indicates whether
Unix.Unix_error should be raised if the C function modifies <code class="code">errno</code>.</p> <b>Raises</b> <code>Dl.DL_error</code> if <code class="code">name</code> is not found in <code class="code">?from</code> and <code class="code">?stub</code> is
<code class="code">false</code>.<br/></div>
<pre class="odoccode"><span class="VALforeign_value"><span class="keyword">val</span> foreign_value</span> : <code class="type">?from:<a href="http://mirage.github.io/ctypes/#Dl.library">Dl.library</a> -&gt; string -&gt; 'a <a href="http://mirage.github.io/ctypes/#Ctypes.typ">Ctypes.typ</a> -&gt; 'a <a href="http://mirage.github.io/ctypes/#Ctypes.ptr">Ctypes.ptr</a></code></pre><div class="info"><code class="code">foreign_value name typ</code> exposes the C value of type <code class="code">typ</code> named by <code class="code">name</code>
as an OCaml value. The argument <code class="code">?from</code>, if supplied, is a library handle
returned by Dl.dlopen.</div>
<pre class="odoccode"><span class="VALfunptr"><span class="keyword">val</span> funptr</span> : <code class="type">?name:string -&gt;
?check_errno:bool -&gt; ('a -&gt; 'b) <a href="http://mirage.github.io/ctypes/#Ctypes.fn">Ctypes.fn</a> -&gt; ('a -&gt; 'b) <a href="http://mirage.github.io/ctypes/#Ctypes.typ">Ctypes.typ</a></code></pre><div class="info">Construct a function pointer type from a function type.<p>The ctypes library, like C itself, distinguishes functions and function
pointers. Functions are not first class: it is not possible to use them
as arguments or return values of calls, or store them in addressable
memory. Function pointers are first class, and so have none of these
restrictions.</p><p>The value <code class="code">?check_errno</code>, which defaults to <code class="code">false</code>, indicates whether
Unix.Unix_error should be raised if the C function modifies <code class="code">errno</code>.</p></div>
<pre class="odoccode"><span class="VALfunptr_opt"><span class="keyword">val</span> funptr_opt</span> : <code class="type">('a -&gt; 'b) <a href="http://mirage.github.io/ctypes/#Ctypes.fn">Ctypes.fn</a> -&gt; ('a -&gt; 'b) option <a href="http://mirage.github.io/ctypes/#Ctypes.typ">Ctypes.typ</a></code></pre><div class="info">Construct a function pointer type from a function type.<p>This behaves like funptr, except that null pointers appear in OCaml as
<code class="code">None</code>.</p></div>
<pre class="odoccode"><span class="EXCEPTIONCallToExpiredClosure"><span class="keyword">exception</span> CallToExpiredClosure</span></pre><div class="info">A closure passed to C was collected by the OCaml garbage collector before
it was called.</div>
</div></div>
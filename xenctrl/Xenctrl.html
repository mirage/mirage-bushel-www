<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Other bindings to libxc.</div></div>
<div class="ocaml_content"><div class="info"><h2 id="2_TITLE">Initialization functions</h2></div>
<pre class="odoccode"><span class="TYPEhandle"><span class="keyword">type</span> handle</span></pre><div class="info">Type of a libxc handle. Corresponding to libxc's <code class="code">xc_interface*</code></div>
<pre class="odoccode"><span class="EXCEPTIONError"><span class="keyword">exception</span> Error</span> <span class="keyword">of</span> <code class="type">string</code></pre><div class="info">General error exception</div>
<pre class="odoccode"><span class="VALinterface_open"><span class="keyword">val</span> interface_open</span> : <code class="type">unit -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a></code></pre><div class="info">This function opens a handle to the hypervisor interface. This
function can be called multiple times within a single process.
Multiple processes can have an open hypervisor interface at the same
time.<p>Note:
After fork a child process must not use any opened xc interface
handle inherited from their parent. They must open a new handle if
they want to interact with xc.</p><p>Each call to this function should have a corresponding call to
<code class="code">interface_close</code>.</p><p>This function can fail if the caller does not have superuser permission or
if a Xen-enabled kernel is not currently running.</p> <b>Returns</b> a handle to the hypervisor interface</div>
<pre class="odoccode"><span class="VALinterface_close"><span class="keyword">val</span> interface_close</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; unit</code></pre><div class="info">This function closes an open hypervisor interface.<p>This function can fail if the handle does not represent an open interface or
if there were problems closing the interface. In the latter case
the interface is still closed.</p><div class="parameters"><div class="param_info"><code class="code">xch</code> : a handle to an open hypervisor interface</div></div></div>
<pre class="odoccode"><span class="VALwith_intf"><span class="keyword">val</span> with_intf</span> : <code class="type">(<a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; 'a) -&gt; 'a</code></pre><div class="info"><code class="code">with_intf f</code> calls <code class="code">f</code> with a freshly opened handle as
argument.</div>
<div class="info"><h2 id="2_TITLE">Physical host query functions</h2></div>
<pre class="odoccode"><code><span class="TYPEphysinfo_cap_flag"><span class="keyword">type</span> physinfo_cap_flag</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo_cap_flag.CAP_HVM"><span class="constructor">CAP_HVM</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo_cap_flag.CAP_DirectIO"><span class="constructor">CAP_DirectIO</span></span></code></td></tr></table>
<pre class="odoccode"><code><span class="TYPEphysinfo"><span class="keyword">type</span> physinfo</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.threads_per_core">threads_per_core</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.cores_per_socket">cores_per_socket</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.nr_cpus">nr_cpus</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.max_node_id">max_node_id</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.cpu_khz">cpu_khz</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.total_pages">total_pages</span> : <code class="type">nativeint</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.free_pages">free_pages</span> : <code class="type">nativeint</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.scrub_pages">scrub_pages</span> : <code class="type">nativeint</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.capabilities">capabilities</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.physinfo_cap_flag" class="ocaml_internal">physinfo_cap_flag</a> list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTphysinfo.max_nr_cpus">max_nr_cpus</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">compile-time max possible number of nr_cpus</div></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="VALphysinfo"><span class="keyword">val</span> physinfo</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.physinfo" class="ocaml_internal">physinfo</a></code></pre><div class="info"><code class="code">physinfo xch</code> is the <code class="code">physinfo</code> structure related to the running
Xen instance.</div>
<pre class="odoccode"><span class="VALpcpu_info"><span class="keyword">val</span> pcpu_info</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; int -&gt; int64 array</code></pre><div class="info"><code class="code">pcpu_info xch i</code> is the cpu info array for the physical CPU
<code class="code">i</code>.</div>
<div class="info"><h2 id="2_TITLE">Xen get/set functions</h2></div>
<pre class="odoccode"><code><span class="TYPEversion"><span class="keyword">type</span> version</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTversion.major">major</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTversion.minor">minor</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTversion.extra">extra</span> : <code class="type">string</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><code><span class="TYPEcompile_info"><span class="keyword">type</span> compile_info</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcompile_info.compiler">compiler</span> : <code class="type">string</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcompile_info.compile_by">compile_by</span> : <code class="type">string</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcompile_info.compile_domain">compile_domain</span> : <code class="type">string</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcompile_info.compile_date">compile_date</span> : <code class="type">string</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="VALversion"><span class="keyword">val</span> version</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.version" class="ocaml_internal">version</a></code></pre>
<pre class="odoccode"><span class="VALversion_compile_info"><span class="keyword">val</span> version_compile_info</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.compile_info" class="ocaml_internal">compile_info</a></code></pre>
<pre class="odoccode"><span class="VALversion_changeset"><span class="keyword">val</span> version_changeset</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALversion_capabilities"><span class="keyword">val</span> version_capabilities</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALsched_id"><span class="keyword">val</span> sched_id</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; int</code></pre><div class="info"><code class="code">sched_id xch</code> is the id of the scheduler currently used by
Xen.</div>
<div class="info"><h2 id="2_TITLE">Domain related functions</h2></div>
<pre class="odoccode"><span class="TYPEdomid"><span class="keyword">type</span> domid</span> = <code class="type">int</code></pre><div class="info">Type of a domain id.</div>
<pre class="odoccode"><code><span class="TYPEvcpuinfo"><span class="keyword">type</span> vcpuinfo</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTvcpuinfo.online">online</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTvcpuinfo.blocked">blocked</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTvcpuinfo.running">running</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTvcpuinfo.cputime">cputime</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTvcpuinfo.cpumap">cpumap</span> : <code class="type">int32</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><code><span class="TYPEdomaininfo"><span class="keyword">type</span> domaininfo</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.domid">domid</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.dying">dying</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.shutdown">shutdown</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.paused">paused</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.blocked">blocked</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.running">running</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.hvm_guest">hvm_guest</span> : <code class="type">bool</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.shutdown_code">shutdown_code</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.total_memory_pages">total_memory_pages</span> : <code class="type">nativeint</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.max_memory_pages">max_memory_pages</span> : <code class="type">nativeint</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.shared_info_frame">shared_info_frame</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.cpu_time">cpu_time</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.nr_online_vcpus">nr_online_vcpus</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.max_vcpu_id">max_vcpu_id</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.ssidref">ssidref</span> : <code class="type">int32</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdomaininfo.handle">handle</span> : <code class="type">int array</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><code><span class="TYPErunstateinfo"><span class="keyword">type</span> runstateinfo</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.state">state</span> : <code class="type">int32</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.missed_changes">missed_changes</span> : <code class="type">int32</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.state_entry_time">state_entry_time</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.time0">time0</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.time1">time1</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.time2">time2</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.time3">time3</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.time4">time4</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTrunstateinfo.time5">time5</span> : <code class="type">int64</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><code><span class="TYPEdomain_create_flag"><span class="keyword">type</span> domain_create_flag</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTdomain_create_flag.CDF_HVM"><span class="constructor">CDF_HVM</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTdomain_create_flag.CDF_HAP"><span class="constructor">CDF_HAP</span></span></code></td></tr></table>
<pre class="odoccode"><span class="VALdomain_create"><span class="keyword">val</span> domain_create</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; int32 -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domain_create_flag" class="ocaml_internal">domain_create_flag</a> list -&gt; string -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a></code></pre><div class="info"><code class="code">domain_create xch ssidref flags uuid</code> creates a domain and
returns its id.</div>
<pre class="odoccode"><span class="VALdomain_sethandle"><span class="keyword">val</span> domain_sethandle</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; string -&gt; unit</code></pre><div class="info"><code class="code">domain_sethandle xch domid uuid</code> sets <code class="code">uuid</code> as the handle of
<code class="code">domid</code>.</div>
<pre class="odoccode"><span class="VALdomain_max_vcpus"><span class="keyword">val</span> domain_max_vcpus</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; unit</code></pre><div class="info"><code class="code">domain_max_vcpus xch domid max</code> sets <code class="code">max</code> to be the maximum
number of vcpus that <code class="code">domid</code> may create.</div>
<pre class="odoccode"><span class="VALdomain_getinfo"><span class="keyword">val</span> domain_getinfo</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domaininfo" class="ocaml_internal">domaininfo</a></code></pre><div class="info"><code class="code">domain_getinfo xch domid</code> is the <code class="code">domaininfo</code> record for
<code class="code">domid</code>.</div>
<pre class="odoccode"><span class="VALdomain_getinfolist"><span class="keyword">val</span> domain_getinfolist</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domaininfo" class="ocaml_internal">domaininfo</a> list</code></pre><div class="info"><code class="code">domain_getinfolist xch domid</code> is the list of all the <code class="code">domaininfo</code>
records starting from <code class="code">domid</code> included.</div>
<pre class="odoccode"><span class="VALdomain_setmaxmem"><span class="keyword">val</span> domain_setmaxmem</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int64 -&gt; unit</code></pre><div class="info"><code class="code">domain_setmaxmem xch domid max</code> sets the maximum memory usable by
<code class="code">domid</code> to <code class="code">max</code>.</div>
<pre class="odoccode"><span class="VALdomain_set_machine_address_size"><span class="keyword">val</span> domain_set_machine_address_size</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_get_machine_address_size"><span class="keyword">val</span> domain_get_machine_address_size</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int</code></pre>
<pre class="odoccode"><span class="VALshadow_allocation_set"><span class="keyword">val</span> shadow_allocation_set</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALshadow_allocation_get"><span class="keyword">val</span> shadow_allocation_get</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int</code></pre>
<pre class="odoccode"><span class="VALdomain_set_memmap_limit"><span class="keyword">val</span> domain_set_memmap_limit</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int64 -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_memory_increase_reservation"><span class="keyword">val</span> domain_memory_increase_reservation</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int64 -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALmap_foreign_range"><span class="keyword">val</span> map_foreign_range</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; nativeint -&gt; <a href="http://mirage.github.io/xenctrl/#Xenmmap.mmap_interface">Xenmmap.mmap_interface</a></code></pre>
<pre class="odoccode"><span class="VALdomain_get_pfn_list"><span class="keyword">val</span> domain_get_pfn_list</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; nativeint -&gt; nativeint array</code></pre><div class="info">DEPRECATED. Avoid using this, as it does not correctly account
for PFNs without a backing MFN.</div>
<div class="info"><h3 id="3_TITLE">Domain lifecycle ops</h3></div>
<pre class="odoccode"><code><span class="TYPEshutdown_reason"><span class="keyword">type</span> shutdown_reason</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTshutdown_reason.Poweroff"><span class="constructor">Poweroff</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTshutdown_reason.Reboot"><span class="constructor">Reboot</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTshutdown_reason.Suspend"><span class="constructor">Suspend</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTshutdown_reason.Crash"><span class="constructor">Crash</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTshutdown_reason.Halt"><span class="constructor">Halt</span></span></code></td></tr></table>
<pre class="odoccode"><span class="VALdomain_pause"><span class="keyword">val</span> domain_pause</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; unit</code></pre><div class="info"><code class="code">domain_pause xch domid</code> pauses <code class="code">domid</code>. A paused domain still
exists in memory however it does not receive any timeslices from
the hypervisor.</div>
<pre class="odoccode"><span class="VALdomain_unpause"><span class="keyword">val</span> domain_unpause</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; unit</code></pre><div class="info"><code class="code">domain_unpause xch domid</code> unpauses <code class="code">domid</code>. The domain should
have been previously paused.</div>
<pre class="odoccode"><span class="VALdomain_shutdown"><span class="keyword">val</span> domain_shutdown</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.shutdown_reason" class="ocaml_internal">shutdown_reason</a> -&gt; unit</code></pre><div class="info"><code class="code">domain_shutdown xch domid reason</code> shutdowns <code class="code">domid</code> with
<code class="code">reason</code>. This is intended for use in fully-virtualized domains where
this operation is analogous to the <code class="code">sched_op</code> operations in a
paravirtualized domain. The caller is expected to give the reason for
the shutdown.</div>
<pre class="odoccode"><span class="VALdomain_resume_fast"><span class="keyword">val</span> domain_resume_fast</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; unit</code></pre><div class="info"><code class="code">domain_resume_fast xch domid</code> resumes <code class="code">domid</code>. The domain should
have been previously suspended.</div>
<pre class="odoccode"><span class="VALdomain_destroy"><span class="keyword">val</span> domain_destroy</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; unit</code></pre><div class="info"><code class="code">domain_destroy xch domid</code> destroys <code class="code">domid</code>. Destroying a domain
removes the domain completely from memory. This function should be
called after sending the domain a SHUTDDOWN control message to free up
the domain resources.</div>
<pre class="odoccode"><span class="VALwatchdog"><span class="keyword">val</span> watchdog</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int32 -&gt; int</code></pre><div class="info"><code class="code">watchdog xch domid timeout</code> turns on the watchdog for domain
<code class="code">domid</code> with timeout <code class="code">timeout</code>.</div>
<div class="info"><h3 id="3_TITLE">Domain scheduling</h3></div>
<pre class="odoccode"><code><span class="TYPEsched_control"><span class="keyword">type</span> sched_control</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTsched_control.weight">weight</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTsched_control.cap">cap</span> : <code class="type">int</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="VALsched_credit_domain_set"><span class="keyword">val</span> sched_credit_domain_set</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.sched_control" class="ocaml_internal">sched_control</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALsched_credit_domain_get"><span class="keyword">val</span> sched_credit_domain_get</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.sched_control" class="ocaml_internal">sched_control</a></code></pre>
<div class="info"><h3 id="3_TITLE">Domain VCPU management</h3></div>
<pre class="odoccode"><span class="VALdomain_get_vcpuinfo"><span class="keyword">val</span> domain_get_vcpuinfo</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.vcpuinfo" class="ocaml_internal">vcpuinfo</a></code></pre><div class="info"><code class="code">domain_get_vcpuinfo xch domid v</code> is the <code class="code">vcpuinfo</code> record for
vcpu <code class="code">v</code> of domain <code class="code">domid</code>.</div>
<pre class="odoccode"><span class="VALvcpu_affinity_get"><span class="keyword">val</span> vcpu_affinity_get</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; bool array</code></pre><div class="info"><code class="code">vcpu_affinity_get xch domid v</code> is the affinity array for vcpu <code class="code">v</code>
in domain <code class="code">domid</code>. For each physical CPUs <code class="code">i</code>, <code class="code">affinity.(i)</code> will
have the value <code class="code">true</code> if <code class="code">v</code> can be scheduled on <code class="code">i</code>.</div>
<pre class="odoccode"><span class="VALvcpu_affinity_set"><span class="keyword">val</span> vcpu_affinity_set</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; bool array -&gt; unit</code></pre><div class="info"><code class="code">vcpu_affinity_set xch domid v affinities</code> sets vcpu <code class="code">v</code> of domain
<code class="code">domid</code> to be scheduled according to <code class="code">affinities</code>. See the
documentation of the previous function about the affinities
array.</div>
<pre class="odoccode"><span class="VALvcpu_context_get"><span class="keyword">val</span> vcpu_context_get</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; string</code></pre>
<div class="info"><h3 id="3_TITLE">HVM guest pass-through management</h3></div>
<pre class="odoccode"><span class="VALdomain_ioport_permission"><span class="keyword">val</span> domain_ioport_permission</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; int -&gt; bool -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_iomem_permission"><span class="keyword">val</span> domain_iomem_permission</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; nativeint -&gt; nativeint -&gt; bool -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_irq_permission"><span class="keyword">val</span> domain_irq_permission</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int -&gt; bool -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_assign_device"><span class="keyword">val</span> domain_assign_device</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int * int * int * int -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_deassign_device"><span class="keyword">val</span> domain_deassign_device</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int * int * int * int -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALdomain_test_assign_device"><span class="keyword">val</span> domain_test_assign_device</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int * int * int * int -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALdomain_get_runstate_info"><span class="keyword">val</span> domain_get_runstate_info</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; int -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.runstateinfo" class="ocaml_internal">runstateinfo</a></code></pre>
<div class="info"><h3 id="3_TITLE">Domain eventchn functions</h3></div>
<pre class="odoccode"><span class="VALevtchn_alloc_unbound"><span class="keyword">val</span> evtchn_alloc_unbound</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int</code></pre>
<pre class="odoccode"><span class="VALevtchn_reset"><span class="keyword">val</span> evtchn_reset</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; unit</code></pre>
<div class="info"><h3 id="3_TITLE">Domain console functions</h3></div>
<pre class="odoccode"><span class="VALreadconsolering"><span class="keyword">val</span> readconsolering</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALsend_debug_keys"><span class="keyword">val</span> send_debug_keys</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; string -&gt; unit</code></pre>
<div class="info"><h3 id="3_TITLE">CPUID stuff</h3></div>
<pre class="odoccode"><span class="VALdomain_cpuid_set"><span class="keyword">val</span> domain_cpuid_set</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt;
<a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; int64 * int64 option -&gt; string option array -&gt; string option array</code></pre>
<pre class="odoccode"><span class="VALdomain_cpuid_apply_policy"><span class="keyword">val</span> domain_cpuid_apply_policy</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALcpuid_check"><span class="keyword">val</span> cpuid_check</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt;
int64 * int64 option -&gt; string option array -&gt; bool * string option array</code></pre>
<div class="info"><h3 id="3_TITLE">Sizes</h3></div>
<pre class="odoccode"><span class="VALpages_to_kib"><span class="keyword">val</span> pages_to_kib</span> : <code class="type">int64 -&gt; int64</code></pre><div class="info"><code class="code">pages_to_kib nb_pages</code> is the size of <code class="code">nb_pages</code> in KiB.</div>
<pre class="odoccode"><span class="VALpages_to_mib"><span class="keyword">val</span> pages_to_mib</span> : <code class="type">int64 -&gt; int64</code></pre><div class="info"><code class="code">pages_to_mib nb_pages</code> is the size of <code class="code">nb_pages</code> in MiB.</div>
<pre class="odoccode"><span class="VALsizeof_core_header"><span class="keyword">val</span> sizeof_core_header</span> : <code class="type">unit -&gt; int</code></pre>
<pre class="odoccode"><span class="VALsizeof_vcpu_guest_context"><span class="keyword">val</span> sizeof_vcpu_guest_context</span> : <code class="type">unit -&gt; int</code></pre>
<pre class="odoccode"><span class="VALsizeof_xen_pfn"><span class="keyword">val</span> sizeof_xen_pfn</span> : <code class="type">unit -&gt; int</code></pre>
<div class="info"><h3 id="3_TITLE">Memory barriers</h3></div>
<pre class="odoccode"><span class="VALxen_mb"><span class="keyword">val</span> xen_mb</span> : <code class="type">unit -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALxen_rmb"><span class="keyword">val</span> xen_rmb</span> : <code class="type">unit -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALxen_wmb"><span class="keyword">val</span> xen_wmb</span> : <code class="type">unit -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALhvm_check_pvdriver"><span class="keyword">val</span> hvm_check_pvdriver</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; bool</code></pre>
<div class="info"><h2 id="2_TITLE">Domain debugging functions</h2></div>
<pre class="odoccode"><code><span class="TYPEcore_magic"><span class="keyword">type</span> core_magic</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTcore_magic.Magic_hvm"><span class="constructor">Magic_hvm</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTcore_magic.Magic_pv"><span class="constructor">Magic_pv</span></span></code></td></tr></table>
<pre class="odoccode"><code><span class="TYPEcore_header"><span class="keyword">type</span> core_header</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcore_header.xch_magic">xch_magic</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.core_magic" class="ocaml_internal">core_magic</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcore_header.xch_nr_vcpus">xch_nr_vcpus</span> : <code class="type">int</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcore_header.xch_nr_pages">xch_nr_pages</span> : <code class="type">nativeint</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcore_header.xch_index_offset">xch_index_offset</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcore_header.xch_ctxt_offset">xch_ctxt_offset</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTcore_header.xch_pages_offset">xch_pages_offset</span> : <code class="type">int64</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="VALmarshall_core_header"><span class="keyword">val</span> marshall_core_header</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.core_header" class="ocaml_internal">core_header</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALcoredump"><span class="keyword">val</span> coredump</span> : <code class="type"><a href="http://mirage.github.io/xenctrl/#Xenctrl.handle" class="ocaml_internal">handle</a> -&gt; <a href="http://mirage.github.io/xenctrl/#Xenctrl.domid" class="ocaml_internal">domid</a> -&gt; Unix.file_descr -&gt; unit</code></pre>
</div></div>
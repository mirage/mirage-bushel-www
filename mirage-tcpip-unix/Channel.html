<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Buffered streams over TCP or shared memory.</div></div>
<div class="ocaml_content"><div class="ocaml_module" name="TCPv4" path="http://mirage.github.io/mirage-tcpip-unix/#Nettypes:CHANNEL"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.TCPv4" class="ocaml_internal">TCPv4</a> : <code class="type"><code class="code"><a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes:CHANNEL">Nettypes.CHANNEL</a></code> with type mgr = <a href="http://mirage.github.io/mirage-tcpip-unix/#Manager.t">Manager.t</a> and type dst = <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.ipv4_dst">Nettypes.ipv4_dst</a> and type src = <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.ipv4_src">Nettypes.ipv4_src</a></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_module" name="Shmem" path="http://mirage.github.io/mirage-tcpip-unix/#Nettypes:CHANNEL"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.Shmem" class="ocaml_internal">Shmem</a> : <code class="type"><code class="code"><a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes:CHANNEL">Nettypes.CHANNEL</a></code> with type mgr = <a href="http://mirage.github.io/mirage-tcpip-unix/#Manager.t">Manager.t</a> and type dst = <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.peer_uid">Nettypes.peer_uid</a> and type src = <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.peer_uid">Nettypes.peer_uid</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<pre class="odoccode"><span class="VALread_char"><span class="keyword">val</span> read_char</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; char <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">read_char c</code> returns one character from <code class="code">c</code>.</div>
<pre class="odoccode"><span class="VALread_some"><span class="keyword">val</span> read_some</span> : <code class="type">?len:int -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">read_some ?len c</code> reads up to <code class="code">len</code> characters from <code class="code">c</code>, or reads
as much characters as possible if <code class="code">len</code> is <code class="code">None</code>.</div>
<pre class="odoccode"><span class="VALread_stream"><span class="keyword">val</span> read_stream</span> : <code class="type">?len:int -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> <a href="http://mirage.github.io/lwt/#Lwt_stream.t">Lwt_stream.t</a></code></pre><div class="info"><code class="code">read_stream ?len c</code> creates a <code class="code">Lwt_steam.t</code> using <code class="code">read_some</code>.</div>
<pre class="odoccode"><span class="VALread_until"><span class="keyword">val</span> read_until</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; char -&gt; (bool * <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a>) <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">read_until c ch</code> reads from <code class="code">c</code> until <code class="code">ch</code> is found if <code class="code">ch</code>
belongs to the set of characters in the channel, or reads until
EOF otherwise.</div>
<pre class="odoccode"><span class="VALread_line"><span class="keyword">val</span> read_line</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> list <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">read_line c</code> returns a list of views corresponding to one line
(e.g. that finishes by LF or CRLF).</div>
<pre class="odoccode"><span class="VALwrite_char"><span class="keyword">val</span> write_char</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; char -&gt; unit</code></pre><div class="info"><code class="code">write_char c ch</code> writes <code class="code">ch</code> into <code class="code">c</code>.</div>
<pre class="odoccode"><span class="VALwrite_string"><span class="keyword">val</span> write_string</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; string -&gt; int -&gt; int -&gt; unit</code></pre><div class="info"><code class="code">write_string c buf off len</code> writes <code class="code">len</code> characters from <code class="code">buf</code>
starting at <code class="code">off</code> to <code class="code">c</code>.</div>
<pre class="odoccode"><span class="VALwrite_buffer"><span class="keyword">val</span> write_buffer</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> -&gt; unit</code></pre><div class="info"><code class="code">write_buffer c buf</code> do a zero-copy write of <code class="code">buf</code> to <code class="code">c</code>.</div>
<pre class="odoccode"><span class="VALwrite_line"><span class="keyword">val</span> write_line</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; string -&gt; unit</code></pre><div class="info">Like <code class="code">write_string</code> but appends a LF at the end of the string.</div>
<pre class="odoccode"><span class="VALflush"><span class="keyword">val</span> flush</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre>
<pre class="odoccode"><span class="VALclose"><span class="keyword">val</span> close</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre>
<pre class="odoccode"><span class="VALconnect"><span class="keyword">val</span> connect</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Manager.t">Manager.t</a> -&gt;
[&gt; `Shmem of <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.peer_uid">Nettypes.peer_uid</a> option * <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.peer_uid">Nettypes.peer_uid</a> * (<a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a>)
 | `TCPv4 of <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.ipv4_src">Nettypes.ipv4_src</a> option * <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.ipv4_dst">Nettypes.ipv4_dst</a> * (<a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a>) ] -&gt;
unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre>
<pre class="odoccode"><span class="VALlisten"><span class="keyword">val</span> listen</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Manager.t">Manager.t</a> -&gt;
[&gt; `Shmem of <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.peer_uid">Nettypes.peer_uid</a> * (<a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.peer_uid">Nettypes.peer_uid</a> -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a>)
 | `TCPv4 of <a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.ipv4_src">Nettypes.ipv4_src</a> * (<a href="http://mirage.github.io/mirage-tcpip-unix/#Nettypes.ipv4_dst">Nettypes.ipv4_dst</a> -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Channel.t" class="ocaml_internal">t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a>) ] -&gt;
unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre>
</div></div>
<div class="ocaml_top"><div class="ocaml_summary"><div class="info">XenStore protocol.</div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre><div class="info">A valid packet.</div>
<div class="ocaml_module" name="Op"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.Op" class="ocaml_internal">Op</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEt"><span class="keyword">type</span> t</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Debug"><span class="constructor">Debug</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Directory"><span class="constructor">Directory</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Read"><span class="constructor">Read</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Getperms"><span class="constructor">Getperms</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Watch"><span class="constructor">Watch</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Unwatch"><span class="constructor">Unwatch</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Transaction_start"><span class="constructor">Transaction_start</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Transaction_end"><span class="constructor">Transaction_end</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Introduce"><span class="constructor">Introduce</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Release"><span class="constructor">Release</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Getdomainpath"><span class="constructor">Getdomainpath</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Write"><span class="constructor">Write</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Mkdir"><span class="constructor">Mkdir</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Rm"><span class="constructor">Rm</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Setperms"><span class="constructor">Setperms</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Watchevent"><span class="constructor">Watchevent</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Error"><span class="constructor">Error</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Isintroduced"><span class="constructor">Isintroduced</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Resume"><span class="constructor">Resume</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Set_target"><span class="constructor">Set_target</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Restrict"><span class="constructor">Restrict</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">The type of xenstore operation.</div></td></tr></table>
<pre class="odoccode"><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">t</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALof_int32"><span class="keyword">val</span> of_int32</span> : <code class="type">int32 -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">t</a> option</code></pre>
<pre class="odoccode"><span class="VALto_int32"><span class="keyword">val</span> to_int32</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">t</a> -&gt; int32</code></pre></div></div>
<div class="ocaml_module" name="ACL"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL" class="ocaml_internal">ACL</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">Access control lists.</div></div><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEperm"><span class="keyword">type</span> perm</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTperm.NONE"><span class="constructor">NONE</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTperm.READ"><span class="constructor">READ</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTperm.WRITE"><span class="constructor">WRITE</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTperm.RDWR"><span class="constructor">RDWR</span></span></code></td></tr></table>
<pre class="odoccode"><span class="VALchar_of_perm"><span class="keyword">val</span> char_of_perm</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.perm" class="ocaml_internal">perm</a> -&gt; char</code></pre>
<pre class="odoccode"><span class="VALperm_of_char"><span class="keyword">val</span> perm_of_char</span> : <code class="type">char -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.perm" class="ocaml_internal">perm</a> option</code></pre>
<pre class="odoccode"><span class="TYPEdomid"><span class="keyword">type</span> domid</span> = <code class="type">int</code></pre>
<pre class="odoccode"><code><span class="TYPEt"><span class="keyword">type</span> t</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.owner">owner</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.domid" class="ocaml_internal">domid</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">domain which &quot;owns&quot;, has full access</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.other">other</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.perm" class="ocaml_internal">perm</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">default permissions for all others...</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.acl">acl</span> : <code class="type">(<a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.domid" class="ocaml_internal">domid</a> * <a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.perm" class="ocaml_internal">perm</a>) list</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">... unless overridden in the ACL</div></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="VALof_string"><span class="keyword">val</span> of_string</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.t" class="ocaml_internal">t</a> option</code></pre>
<pre class="odoccode"><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.t" class="ocaml_internal">t</a> -&gt; string</code></pre></div></div>
<div class="ocaml_module" name="Parser"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.Parser" class="ocaml_internal">Parser</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">Incrementally parse packets.</div></div><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEstate"><span class="keyword">type</span> state</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTstate.Unknown_operation"><span class="constructor">Unknown_operation</span></span> <span class="keyword">of</span> <code class="type">int32</code></code></td><td class="typefieldcomment" align="left"><div class="info">received an unexpected message type</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTstate.Parser_failed"><span class="constructor">Parser_failed</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">we failed to parse a header</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTstate.Need_more_data"><span class="constructor">Need_more_data</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td><td class="typefieldcomment" align="left"><div class="info">we still need 'n' bytes</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTstate.Packet"><span class="constructor">Packet</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">successfully decoded a packet</div></td></tr></table>
<pre class="odoccode"><span class="TYPEparse"><span class="keyword">type</span> parse</span></pre><div class="info">The internal state of the parser.</div>
<pre class="odoccode"><span class="VALstart"><span class="keyword">val</span> start</span> : <code class="type">unit -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Parser.parse" class="ocaml_internal">parse</a></code></pre><div class="info">Create a parser set to the initial state.</div>
<pre class="odoccode"><span class="VALstate"><span class="keyword">val</span> state</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Parser.parse" class="ocaml_internal">parse</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Parser.state" class="ocaml_internal">state</a></code></pre><div class="info">Query the state of the parser.</div>
<pre class="odoccode"><span class="VALinput"><span class="keyword">val</span> input</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Parser.parse" class="ocaml_internal">parse</a> -&gt; string -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Parser.parse" class="ocaml_internal">parse</a></code></pre><div class="info">Input some bytes into the parser. Must be no more than needed
(see Need_more_data above).</div></div></div>
<div class="ocaml_modtype" name="IO"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO" class="ocaml_internal">IO</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'a </code>t</span></pre>
<pre class="odoccode"><span class="VALreturn"><span class="keyword">val</span> return</span> : <code class="type">'a -&gt; 'a <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VAL(&gt;&gt;=)"><span class="keyword">val</span> (&gt;&gt;=)</span> : <code class="type">'a <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.t" class="ocaml_internal">t</a> -&gt; ('a -&gt; 'b <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.t" class="ocaml_internal">t</a>) -&gt; 'b <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="TYPEchannel"><span class="keyword">type</span> channel</span></pre>
<pre class="odoccode"><span class="VALread"><span class="keyword">val</span> read</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.channel" class="ocaml_internal">channel</a> -&gt; string -&gt; int -&gt; int -&gt; int <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALwrite"><span class="keyword">val</span> write</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.channel" class="ocaml_internal">channel</a> -&gt; string -&gt; int -&gt; int -&gt; unit <a href="http://mirage.github.io/xenstore/#Xs_protocol:IO.t" class="ocaml_internal">t</a></code></pre></div></div>
<pre class="odoccode"><span class="EXCEPTIONUnknown_xenstore_operation"><span class="keyword">exception</span> Unknown_xenstore_operation</span> <span class="keyword">of</span> <code class="type">int32</code></pre>
<pre class="odoccode"><span class="EXCEPTIONResponse_parser_failed"><span class="keyword">exception</span> Response_parser_failed</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<pre class="odoccode"><code><span class="TYPEresult"><span class="keyword">type</span> <code class="type">('a, 'b) </code>result</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTresult.Ok"><span class="constructor">Ok</span></span> <span class="keyword">of</span> <code class="type">'a</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTresult.Exception"><span class="constructor">Exception</span></span> <span class="keyword">of</span> <code class="type">'b</code></code></td></tr></table>
<div class="ocaml_module" name="PacketStream"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.PacketStream" class="ocaml_internal">PacketStream</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">IO</code><code class="code"> : </code><code class="code"><a href="http://mirage.github.io/xenstore/#Xs_protocol:IO" class="ocaml_internal">IO</a></code><code class="code">) -&gt; </code><code class="code">sig</code> .. <code class="code">end</code></div></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEstream"><span class="keyword">type</span> stream</span></pre>
<pre class="odoccode"><span class="VALmake"><span class="keyword">val</span> make</span> : <code class="type">IO.channel -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.PacketStream.stream" class="ocaml_internal">stream</a></code></pre>
<pre class="odoccode"><span class="VALrecv"><span class="keyword">val</span> recv</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.PacketStream.stream" class="ocaml_internal">stream</a> -&gt; (<a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a>, exn) <a href="http://mirage.github.io/xenstore/#Xs_protocol.result" class="ocaml_internal">result</a> IO.t</code></pre>
<pre class="odoccode"><span class="VALsend"><span class="keyword">val</span> send</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.PacketStream.stream" class="ocaml_internal">stream</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; unit IO.t</code></pre></div></div>
<pre class="odoccode"><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALget_tid"><span class="keyword">val</span> get_tid</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; int32</code></pre>
<pre class="odoccode"><span class="VALget_ty"><span class="keyword">val</span> get_ty</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">Op.t</a></code></pre>
<pre class="odoccode"><span class="VALget_data"><span class="keyword">val</span> get_data</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALget_rid"><span class="keyword">val</span> get_rid</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; int32</code></pre>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">int32 -&gt; int32 -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">Op.t</a> -&gt; string -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a></code></pre>
<div class="ocaml_module" name="Token"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.Token" class="ocaml_internal">Token</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre><div class="info">A token is associated with every watch and returned in the
callback.</div>
<pre class="odoccode"><span class="VALto_debug_string"><span class="keyword">val</span> to_debug_string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Token.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info"><code class="code">to_string token</code> is a debug-printable version of <code class="code">token</code>.</div>
<pre class="odoccode"><span class="VALto_user_string"><span class="keyword">val</span> to_user_string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Token.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info"><code class="code">to_user_string token</code> is the user-supplied part of <code class="code">token</code>.</div>
<pre class="odoccode"><span class="VALof_string"><span class="keyword">val</span> of_string</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Token.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">of_string str_rep</code> is the token resulting from the
unmarshalling of <code class="code">str_rep</code>.</div>
<pre class="odoccode"><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Token.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info"><code class="code">to_string token</code> is the marshalled representation of <code class="code">token</code>.</div></div></div>
<div class="ocaml_module" name="Response"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.Response" class="ocaml_internal">Response</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEpayload"><span class="keyword">type</span> payload</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Read"><span class="constructor">Read</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Directory"><span class="constructor">Directory</span></span> <span class="keyword">of</span> <code class="type">string list</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Getperms"><span class="constructor">Getperms</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.t" class="ocaml_internal">ACL.t</a></code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Getdomainpath"><span class="constructor">Getdomainpath</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Transaction_start"><span class="constructor">Transaction_start</span></span> <span class="keyword">of</span> <code class="type">int32</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Write"><span class="constructor">Write</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Mkdir"><span class="constructor">Mkdir</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Rm"><span class="constructor">Rm</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Setperms"><span class="constructor">Setperms</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Watch"><span class="constructor">Watch</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Unwatch"><span class="constructor">Unwatch</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Transaction_end"><span class="constructor">Transaction_end</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Debug"><span class="constructor">Debug</span></span> <span class="keyword">of</span> <code class="type">string list</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Introduce"><span class="constructor">Introduce</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Resume"><span class="constructor">Resume</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Release"><span class="constructor">Release</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Set_target"><span class="constructor">Set_target</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Restrict"><span class="constructor">Restrict</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Isintroduced"><span class="constructor">Isintroduced</span></span> <span class="keyword">of</span> <code class="type">bool</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Error"><span class="constructor">Error</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Watchevent"><span class="constructor">Watchevent</span></span> <span class="keyword">of</span> <code class="type">string * string</code></code></td></tr></table>
<pre class="odoccode"><span class="VALty_of_payload"><span class="keyword">val</span> ty_of_payload</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Response.payload" class="ocaml_internal">payload</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">Op.t</a></code></pre>
<pre class="odoccode"><span class="VALprettyprint_payload"><span class="keyword">val</span> prettyprint_payload</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Response.payload" class="ocaml_internal">payload</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALprint"><span class="keyword">val</span> print</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Response.payload" class="ocaml_internal">payload</a> -&gt; int32 -&gt; int32 -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a></code></pre></div></div>
<div class="ocaml_module" name="Request"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.Request" class="ocaml_internal">Request</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEpath_op"><span class="keyword">type</span> path_op</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Read"><span class="constructor">Read</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Directory"><span class="constructor">Directory</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Getperms"><span class="constructor">Getperms</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Write"><span class="constructor">Write</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Mkdir"><span class="constructor">Mkdir</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Rm"><span class="constructor">Rm</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpath_op.Setperms"><span class="constructor">Setperms</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.t" class="ocaml_internal">ACL.t</a></code></code></td></tr></table>
<pre class="odoccode"><code><span class="TYPEpayload"><span class="keyword">type</span> payload</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.PathOp"><span class="constructor">PathOp</span></span> <span class="keyword">of</span> <code class="type">string * <a href="http://mirage.github.io/xenstore/#Xs_protocol.Request.path_op" class="ocaml_internal">path_op</a></code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Getdomainpath"><span class="constructor">Getdomainpath</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Transaction_start"><span class="constructor">Transaction_start</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Watch"><span class="constructor">Watch</span></span> <span class="keyword">of</span> <code class="type">string * string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Unwatch"><span class="constructor">Unwatch</span></span> <span class="keyword">of</span> <code class="type">string * string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Transaction_end"><span class="constructor">Transaction_end</span></span> <span class="keyword">of</span> <code class="type">bool</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Debug"><span class="constructor">Debug</span></span> <span class="keyword">of</span> <code class="type">string list</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Introduce"><span class="constructor">Introduce</span></span> <span class="keyword">of</span> <code class="type">int * Nativeint.t * int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Resume"><span class="constructor">Resume</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Release"><span class="constructor">Release</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Set_target"><span class="constructor">Set_target</span></span> <span class="keyword">of</span> <code class="type">int * int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Restrict"><span class="constructor">Restrict</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Isintroduced"><span class="constructor">Isintroduced</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Error"><span class="constructor">Error</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Watchevent"><span class="constructor">Watchevent</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr></table>
<pre class="odoccode"><span class="VALty_of_payload"><span class="keyword">val</span> ty_of_payload</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Request.payload" class="ocaml_internal">payload</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Op.t" class="ocaml_internal">Op.t</a></code></pre>
<pre class="odoccode"><span class="VALprettyprint_payload"><span class="keyword">val</span> prettyprint_payload</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Request.payload" class="ocaml_internal">payload</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALprettyprint"><span class="keyword">val</span> prettyprint</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALparse"><span class="keyword">val</span> parse</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.Request.payload" class="ocaml_internal">payload</a> option</code></pre>
<pre class="odoccode"><span class="VALprint"><span class="keyword">val</span> print</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.Request.payload" class="ocaml_internal">payload</a> -&gt; int32 -&gt; int32 -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a></code></pre></div></div>
<div class="ocaml_module" name="Unmarshal"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/xenstore/#Xs_protocol.Unmarshal" class="ocaml_internal">Unmarshal</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="VALstring"><span class="keyword">val</span> string</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; string option</code></pre>
<pre class="odoccode"><span class="VALlist"><span class="keyword">val</span> list</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; string list option</code></pre>
<pre class="odoccode"><span class="VALacl"><span class="keyword">val</span> acl</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.ACL.t" class="ocaml_internal">ACL.t</a> option</code></pre>
<pre class="odoccode"><span class="VALint"><span class="keyword">val</span> int</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; int option</code></pre>
<pre class="odoccode"><span class="VALint32"><span class="keyword">val</span> int32</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; int32 option</code></pre>
<pre class="odoccode"><span class="VALunit"><span class="keyword">val</span> unit</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; unit option</code></pre>
<pre class="odoccode"><span class="VALok"><span class="keyword">val</span> ok</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; unit option</code></pre></div></div>
<pre class="odoccode"><span class="EXCEPTIONEnoent"><span class="keyword">exception</span> Enoent</span> <span class="keyword">of</span> <code class="type">string</code></pre><div class="info">Raised when a named key does not exist.</div>
<pre class="odoccode"><span class="EXCEPTIONEagain"><span class="keyword">exception</span> Eagain</span></pre><div class="info">Raised when a transaction must be repeated.</div>
<pre class="odoccode"><span class="EXCEPTIONInvalid"><span class="keyword">exception</span> Invalid</span></pre>
<pre class="odoccode"><span class="EXCEPTIONError"><span class="keyword">exception</span> Error</span> <span class="keyword">of</span> <code class="type">string</code></pre><div class="info">Generic catch-all error.</div>
<pre class="odoccode"><span class="VALresponse"><span class="keyword">val</span> response</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; (<a href="http://mirage.github.io/xenstore/#Xs_protocol.t" class="ocaml_internal">t</a> -&gt; 'a option) -&gt; 'a</code></pre><div class="info"><code class="code">response debug_hint sent received unmarshal</code> returns the
<code class="code">unmarshal</code>led response corresponding to the <code class="code">received</code> packet
relative to the <code class="code">sent</code> packet.</div>
<pre class="odoccode"><code><span class="TYPEaddress"><span class="keyword">type</span> address</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaddress.Unix"><span class="constructor">Unix</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaddress.Domain"><span class="constructor">Domain</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td></tr></table>
<pre class="odoccode"><span class="VALstring_of_address"><span class="keyword">val</span> string_of_address</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.address" class="ocaml_internal">address</a> -&gt; string</code></pre>
<pre class="odoccode"><span class="VALdomain_of_address"><span class="keyword">val</span> domain_of_address</span> : <code class="type"><a href="http://mirage.github.io/xenstore/#Xs_protocol.address" class="ocaml_internal">address</a> -&gt; int</code></pre>
</div></div>
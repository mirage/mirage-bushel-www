<div class="ocaml_top"><div class="ocaml_summary"><div class="info">INTERNAL: ARP protocol.</div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre><div class="info">Type of an ARP record. ARP records are included in Ethif.t
values. They contain, among other bits, a list of bound IPs, and a
IPv4 -&gt; MAC hashtbl.</div>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">get_etherbuf:(unit -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a>) -&gt;
output:(<a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a>) -&gt; get_mac:(unit -&gt; <a href="http://mirage.github.io/ipaddr/#Macaddr.t">Macaddr.t</a>) -&gt; <a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">create ~get_etherbuf ~output ~get_mac</code> creates a value of type
<code class="code">t</code>.</div>
<pre class="odoccode"><span class="VALset_ips"><span class="keyword">val</span> set_ips</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> list -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">set_ips arp</code> sets the bound IP address list, which will xmit a
GARP packet also.</div>
<pre class="odoccode"><span class="VALget_ips"><span class="keyword">val</span> get_ips</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> list</code></pre><div class="info"><code class="code">get_ips arp</code> gets the bound IP address list in the <code class="code">arp</code>
value.</div>
<pre class="odoccode"><span class="VALadd_ip"><span class="keyword">val</span> add_ip</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">add_ip arp ip</code> adds <code class="code">ip</code> to the bound IP address list in the
<code class="code">arp</code> value, which will xmit a GARP packet also.</div>
<pre class="odoccode"><span class="VALremove_ip"><span class="keyword">val</span> remove_ip</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">remove_ip arp ip</code> removes <code class="code">ip</code> to the bound IP address list in
the <code class="code">arp</code> value, which will xmit a GARP packet also.</div>
<pre class="odoccode"><span class="VALinput"><span class="keyword">val</span> input</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">input arp frame</code> will handle an ethernet frame containing an ARP
packet. If it is a response, it will update its cache, otherwise
will try to satisfy the request.</div>
<pre class="odoccode"><span class="VALquery"><span class="keyword">val</span> query</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-xen/#Arp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt; <a href="http://mirage.github.io/ipaddr/#Macaddr.t">Macaddr.t</a> <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">query arp ip</code> queries the cache in <code class="code">arp</code> for an ARP entry
corresponding to <code class="code">ip</code>, which may result in the sender sleeping
waiting for a response.</div>
</div></div>
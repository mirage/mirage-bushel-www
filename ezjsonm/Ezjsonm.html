<div class="ocaml_top"><div class="ocaml_summary"><div class="info">An easy interface on top of the <code class="code">Jsonm</code> library.<p>This version provides more convenient (but far less flexible)
input and output functions that go to and from <code class="code">string</code> values.
This avoids the need to write signal code, which is useful for
quick scripts that manipulate JSON.</p><p>More advanced users should go straight to the <code class="code">Jsonm</code> library and
use it directly, rather than be saddled with the Ezjsonm interface
below.</p></div></div>
<div class="ocaml_content"><div class="info"><h2 id="2_TITLE">Basic types</h2></div>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span> = <code class="type">[ `A of <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> list
| `Bool of bool
| `Float of float
| `Null
| `O of (string * <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) list
| `String of string ]</code></pre><div class="info">The type of JSON documents.</div>
<div class="info"><h2 id="2_TITLE">Reading JSON documents</h2></div>
<pre class="odoccode"><span class="VALfrom_channel"><span class="keyword">val</span> from_channel</span> : <code class="type">in_channel -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Read a JSON document from an input channel.</div>
<pre class="odoccode"><span class="VALfrom_string"><span class="keyword">val</span> from_string</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Read a JSON document from a string.</div>
<pre class="odoccode"><span class="VALfrom_src"><span class="keyword">val</span> from_src</span> : <code class="type"><a href="http://mirage.github.io/jsonm/#Jsonm.src">Jsonm.src</a> -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Low-level function to read directly from an <code class="code">Jsonm</code> source.</div>
<div class="info"><h2 id="2_TITLE">Writing JSON documents</h2></div>
<pre class="odoccode"><span class="VALto_channel"><span class="keyword">val</span> to_channel</span> : <code class="type">?minify:bool -&gt; out_channel -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info">Write a JSON document to an output channel.</div>
<pre class="odoccode"><span class="VALto_buffer"><span class="keyword">val</span> to_buffer</span> : <code class="type">?minify:bool -&gt; Buffer.t -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info">Write a JSON document to a buffer.</div>
<pre class="odoccode"><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type">?minify:bool -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info">Write a JSON document to a string. This goes via an intermediate
buffer and so may be slow on large documents.</div>
<pre class="odoccode"><span class="VALto_dst"><span class="keyword">val</span> to_dst</span> : <code class="type">?minify:bool -&gt; <a href="http://mirage.github.io/jsonm/#Jsonm.dst">Jsonm.dst</a> -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info">Low-level function to write directly to a <code class="code">Jsonm</code> destination.</div>
<div class="info"><h2 id="2_TITLE">Constructors</h2></div>
<pre class="odoccode"><span class="VALunit"><span class="keyword">val</span> unit</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Same as <code class="code">`Null</code>.</div>
<pre class="odoccode"><span class="VALbool"><span class="keyword">val</span> bool</span> : <code class="type">bool -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Same as <code class="code">`Bool b</code>.</div>
<pre class="odoccode"><span class="VALstring"><span class="keyword">val</span> string</span> : <code class="type">string -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Same as <code class="code">`String s</code>.</div>
<pre class="odoccode"><span class="VALstrings"><span class="keyword">val</span> strings</span> : <code class="type">string list -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Same as <code class="code">`A [`String s1; ..; `String sn]</code>.</div>
<pre class="odoccode"><span class="VALint"><span class="keyword">val</span> int</span> : <code class="type">int -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Same as <code class="code">`Float (int_of_string i)</code>.</div>
<pre class="odoccode"><span class="VALfloat"><span class="keyword">val</span> float</span> : <code class="type">float -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Some as <code class="code">`Float f</code>.</div>
<pre class="odoccode"><span class="VALlist"><span class="keyword">val</span> list</span> : <code class="type">('a -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) -&gt; 'a list -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Build a list of values.</div>
<pre class="odoccode"><span class="VALoption"><span class="keyword">val</span> option</span> : <code class="type">('a -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) -&gt; 'a option -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Either <code class="code">`Null</code> or a JSON value.</div>
<pre class="odoccode"><span class="VALdict"><span class="keyword">val</span> dict</span> : <code class="type">(string * <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) list -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Build a dictionnary.</div>
<pre class="odoccode"><span class="VALpair"><span class="keyword">val</span> pair</span> : <code class="type">('a -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) -&gt; ('b -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) -&gt; 'a * 'b -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Build a pair.</div>
<div class="info"><h2 id="2_TITLE">Accessors</h2></div>
<pre class="odoccode"><span class="EXCEPTIONParse_error"><span class="keyword">exception</span> Parse_error</span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> * string</code></pre><div class="info">All the following accessor functions expect the provided JSON
document to be of a certain kind. In case this is not the case,
<code class="code">Parse_error</code> is raised.</div>
<pre class="odoccode"><span class="VALget_unit"><span class="keyword">val</span> get_unit</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info">Check that the JSON document is <code class="code">`Null</code>.</div>
<pre class="odoccode"><span class="VALget_bool"><span class="keyword">val</span> get_bool</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info">Extract <code class="code">b</code> from <code class="code">`Bool b</code>.</div>
<pre class="odoccode"><span class="VALget_string"><span class="keyword">val</span> get_string</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info">Extract <code class="code">s</code> from <code class="code">`String s</code>.</div>
<pre class="odoccode"><span class="VALget_strings"><span class="keyword">val</span> get_strings</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string list</code></pre><div class="info">Extract <code class="code">s1;..;sn</code> from <code class="code">`A [`String s1; ...; `String sn]</code>.</div>
<pre class="odoccode"><span class="VALget_int"><span class="keyword">val</span> get_int</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; int</code></pre><div class="info">Extract an integer.</div>
<pre class="odoccode"><span class="VALget_float"><span class="keyword">val</span> get_float</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; float</code></pre><div class="info">Extract a float.</div>
<pre class="odoccode"><span class="VALget_list"><span class="keyword">val</span> get_list</span> : <code class="type">(<a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'a) -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'a list</code></pre><div class="info">Extract elements from a list document..</div>
<pre class="odoccode"><span class="VALget_option"><span class="keyword">val</span> get_option</span> : <code class="type">(<a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'a) -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre><div class="info">Extract an optional document.</div>
<pre class="odoccode"><span class="VALget_dict"><span class="keyword">val</span> get_dict</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; (string * <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a>) list</code></pre><div class="info">Extract the elements from a dictionnary document.</div>
<pre class="odoccode"><span class="VALget_pair"><span class="keyword">val</span> get_pair</span> : <code class="type">(<a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'a) -&gt; (<a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'b) -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; 'a * 'b</code></pre><div class="info">Extract the pairs.</div>
<div class="info"><h2 id="2_TITLE">High-level functions</h2></div>
<pre class="odoccode"><span class="VALmem"><span class="keyword">val</span> mem</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string list -&gt; bool</code></pre><div class="info">Is the given path valid if the provided JSON document.</div>
<pre class="odoccode"><span class="VALfind"><span class="keyword">val</span> find</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string list -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Find the sub-document adressed by the given path. Raise
<code class="code">Not_found</code> if the path is invalid.</div>
<pre class="odoccode"><span class="VALupdate"><span class="keyword">val</span> update</span> : <code class="type"><a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string list -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> option -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Update the sub-document addressed by the given path. If the
provided value is <code class="code">None</code>, then removes the sub-document.</div>
<pre class="odoccode"><span class="VALmap"><span class="keyword">val</span> map</span> : <code class="type">(<a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> option) -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a> -&gt; string list -&gt; <a href="http://mirage.github.io/ezjsonm/#Ezjsonm.t" class="ocaml_internal">t</a></code></pre><div class="info">Apply a given function to a subdocument.</div>
</div></div>
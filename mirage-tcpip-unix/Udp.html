<div class="ocaml_top"><div class="ocaml_summary"><div class="info">INTERNAL: UDP protocol.</div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre><div class="info">Values of type <code class="code">t</code> are facilities used to send and react to UDP
packets on a given IPv4 address, included in the type.</div>
<pre class="odoccode"><span class="TYPEcallback"><span class="keyword">type</span> callback</span> = <code class="type">src:<a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt;
dst:<a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt; source_port:int -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info">Type of callbacks used by <code class="code">listen</code>. <code class="code">cb ~src ~dst ~source_port
    data</code> is a thread that process some <code class="code">data</code> coming from address
<code class="code">src</code> and port <code class="code">source_port</code>, sent at address <code class="code">dst</code>.</div>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Ipv4.t">Ipv4.t</a> -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Udp.t" class="ocaml_internal">t</a> * unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">create ip</code> is a pair whose first element is a freshly created
value of type <code class="code">t</code> and second element a cancellable thread that
will perform cleanup operations when cancelled.</div>
<pre class="odoccode"><span class="VALlisten"><span class="keyword">val</span> listen</span> : <code class="type"><a href="http://mirage.github.io/mirage-tcpip-unix/#Udp.t" class="ocaml_internal">t</a> -&gt; int -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Udp.callback" class="ocaml_internal">callback</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">listen udp port cb</code> installs <code class="code">cb</code> to handle UDP packets incoming
at <code class="code">port</code>, and return a cancellable thread that will uninstall
<code class="code">cb</code> when cancelled.</div>
<pre class="odoccode"><span class="VALwrite"><span class="keyword">val</span> write</span> : <code class="type">source_port:int -&gt;
dest_ip:<a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt; dest_port:int -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Udp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info"><code class="code">write ~source_port ~dest_ip ~dest_port udp data</code> is a thread that
sends <code class="code">data</code> from <code class="code">~source_port</code> at <code class="code">~dest_ip</code>, <code class="code">~dest_port</code>.</div>
<pre class="odoccode"><span class="VALwritev"><span class="keyword">val</span> writev</span> : <code class="type">source_port:int -&gt;
dest_ip:<a href="http://mirage.github.io/ipaddr/#Ipaddr.V4.t">Ipaddr.V4.t</a> -&gt; dest_port:int -&gt; <a href="http://mirage.github.io/mirage-tcpip-unix/#Udp.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/cstruct/#Cstruct.t">Cstruct.t</a> list -&gt; unit <a href="http://mirage.github.io/lwt/#Lwt.t">Lwt.t</a></code></pre><div class="info">Same as above but sends a vector of messages instead of just
one.</div>
</div></div>
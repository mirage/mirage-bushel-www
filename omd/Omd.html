<div class="ocaml_top"><div class="ocaml_summary"><div class="info">A markdown parser in OCaml, with no extra dependencies.<p>This module represents this entire Markdown library written in
OCaml only.</p><p>Its main purpose is to allow you to use the Markdown library while
keeping you away from the other modules.</p><p>If you want to extend the Markdown parser, you can do it without
accessing any module of this library but this one, and by doing
so, you are free from having to maintain a fork of this library.</p><p>N.B. This module is supposed to be reentrant,
if it's not then please report the bug.</p></div></div>
<div class="ocaml_content"><div class="info"><h2 id="2_TITLE">Representation of Markdown documents</h2></div>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span> = <code class="type">element list</code></pre><div class="info">Representation of a Markdown document.</div>
<pre class="odoccode"><span class="TYPEref_container"><span class="keyword">type</span> ref_container</span> = <code class="type">&lt; add_ref : string -&gt; string -&gt; string -&gt; unit;
  get_all : (string * (string * string)) list;
  get_ref : string -&gt; (string * string) option &gt;</code></pre>
<pre class="odoccode"><span class="TYPEelement"><span class="keyword">type</span> element</span> = <code class="type"><a href="http://mirage.github.io/omd/#Omd_representation.element">Omd_representation.element</a></code> = </pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.H1"><span class="constructor">H1</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Header of level 1</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.H2"><span class="constructor">H2</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Header of level 2</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.H3"><span class="constructor">H3</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Header of level 3</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.H4"><span class="constructor">H4</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Header of level 4</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.H5"><span class="constructor">H5</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Header of level 5</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.H6"><span class="constructor">H6</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Header of level 6</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Paragraph"><span class="constructor">Paragraph</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">A Markdown paragraph (must be enabled in of_string)</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Text"><span class="constructor">Text</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">Text.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Emph"><span class="constructor">Emph</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Emphasis (italic)</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Bold"><span class="constructor">Bold</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Bold</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Ul"><span class="constructor">Ul</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> list</code></code></td><td class="typefieldcomment" align="left"><div class="info">Unumbered list</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Ol"><span class="constructor">Ol</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> list</code></code></td><td class="typefieldcomment" align="left"><div class="info">Ordered (i.e. numbered) list</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Ulp"><span class="constructor">Ulp</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> list</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Olp"><span class="constructor">Olp</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> list</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Code"><span class="constructor">Code</span></span> <span class="keyword">of</span> <code class="type">name * string</code></code></td><td class="typefieldcomment" align="left"><div class="info"><code class="code">Code(lang, code)</code> represent <code class="code">code</code> within the text (Markdown:
`code`). The language <code class="code">lang</code> cannot be specified from Markdown,
it can be from of_string though or when programatically
generating Markdown documents. Beware that the <code class="code">code</code> is taken
verbatim from Markdown and may contain characters that must be
escaped for HTML.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Code_block"><span class="constructor">Code_block</span></span> <span class="keyword">of</span> <code class="type">name * string</code></code></td><td class="typefieldcomment" align="left"><div class="info"><code class="code">Code_block(lang, code)</code>: a code clock (e.g. indented by 4
spaces in the text). The first parameter <code class="code">lang</code> is the language
if specified. Beware that the <code class="code">code</code> is taken verbatim from
Markdown and may contain characters that must be escaped for
HTML.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Br"><span class="constructor">Br</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">(Forced) line break</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Hr"><span class="constructor">Hr</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Horizontal rule</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.NL"><span class="constructor">NL</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Newline character. Newline characters that act
like delimiters (e.g. for paragraphs) are removed from the AST.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Url"><span class="constructor">Url</span></span> <span class="keyword">of</span> <code class="type">href * <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> * title</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Ref"><span class="constructor">Ref</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.ref_container" class="ocaml_internal">ref_container</a> * name * string * fallback</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Img_ref"><span class="constructor">Img_ref</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.ref_container" class="ocaml_internal">ref_container</a> * name * alt * fallback</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Html"><span class="constructor">Html</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Html_block"><span class="constructor">Html_block</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Html_comment"><span class="constructor">Html_comment</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">An HTML comment, including &quot;&lt;!--&quot; and &quot;--&gt;&quot;.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Blockquote"><span class="constructor">Blockquote</span></span> <span class="keyword">of</span> <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Quoted block</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.Img"><span class="constructor">Img</span></span> <span class="keyword">of</span> <code class="type">alt * src * title</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTelement.X"><span class="constructor">X</span></span> <span class="keyword">of</span> <code class="type">&lt; name : string;
  to_html : ?indent:int -&gt; (<a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string) -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string option;
  to_sexpr : (<a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string) -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string option; to_t : <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> option &gt;</code></code></td></tr></table><div class="info">A element of a Markdown document.</div>
<pre class="odoccode"><span class="TYPEfallback"><span class="keyword">type</span> fallback</span> = <code class="type">string</code></pre><div class="info">Fallback for references in case they refer to non-existant references</div>
<pre class="odoccode"><span class="TYPEname"><span class="keyword">type</span> name</span> = <code class="type">string</code></pre><div class="info">Markdown reference name.</div>
<pre class="odoccode"><span class="TYPEalt"><span class="keyword">type</span> alt</span> = <code class="type">string</code></pre><div class="info">HTML img tag attribute.</div>
<pre class="odoccode"><span class="TYPEsrc"><span class="keyword">type</span> src</span> = <code class="type">string</code></pre><div class="info">HTML attribute.</div>
<pre class="odoccode"><span class="TYPEhref"><span class="keyword">type</span> href</span> = <code class="type">string</code></pre><div class="info">HTML attribute.</div>
<pre class="odoccode"><span class="TYPEtitle"><span class="keyword">type</span> title</span> = <code class="type">string</code></pre><div class="info">HTML attribute.</div>
<pre class="odoccode"><span class="TYPEcode_stylist"><span class="keyword">type</span> code_stylist</span> = <code class="type">lang:string -&gt; string -&gt; string</code></pre><div class="info">Function that takes a language name and some code and returns
that code with style.</div>
<div class="info"><h2 id="2_TITLE">Input and Output</h2></div>
<pre class="odoccode"><span class="VALof_string"><span class="keyword">val</span> of_string</span> : <code class="type">?extensions:<a href="http://mirage.github.io/omd/#Omd_representation.extensions">Omd_representation.extensions</a> -&gt;
?default_lang:<a href="http://mirage.github.io/omd/#Omd.name" class="ocaml_internal">name</a> -&gt; string -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">of_string s</code> returns the Markdown representation of the string
<code class="code">s</code>.<div class="parameters"><div class="param_info"><code class="code">lang</code> : language for blocks of code where it was not
specified. Default: <code class="code">&quot;&quot;</code>.<p>If you want to use a custom lexer or parser, use Omd_lexer.lex
and Omd_parser.parse.</p></div></div></div>
<pre class="odoccode"><span class="VALset_default_lang"><span class="keyword">val</span> set_default_lang</span> : <code class="type"><a href="http://mirage.github.io/omd/#Omd.name" class="ocaml_internal">name</a> -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">set_default_lang lang md</code> return a copy of <code class="code">md</code> where the
language of all <code class="code">Code</code> or <code class="code">Code_block</code> with an empty language is
set to <code class="code">lang</code>.</div>
<pre class="odoccode"><span class="VALto_html"><span class="keyword">val</span> to_html</span> : <code class="type">?pindent:bool -&gt; ?nl2br:bool -&gt; ?cs:<a href="http://mirage.github.io/omd/#Omd.code_stylist" class="ocaml_internal">code_stylist</a> -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info">Translate markdown representation into raw HTML. If you need a
full HTML representation, you mainly have to figure out how to
convert <code class="code">Html of string</code> and <code class="code">Html_block of string</code>
into your HTML representation.</div>
<pre class="odoccode"><span class="VALto_markdown"><span class="keyword">val</span> to_markdown</span> : <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info">Translate markdown representation into textual markdown.</div>
<pre class="odoccode"><span class="VALto_text"><span class="keyword">val</span> to_text</span> : <code class="type"><a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; string</code></pre><div class="info">Translate markdown representation into raw text.</div>
<div class="info"><h2 id="2_TITLE">Tansforming Markdown documents</h2></div>
<pre class="odoccode"><span class="VALtoc"><span class="keyword">val</span> toc</span> : <code class="type">?start:int list -&gt; ?depth:int -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/omd/#Omd.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">toc md</code> returns <code class="code">toc</code> a table of contents for <code class="code">md</code>.<div class="parameters"><div class="param_info"><code class="code">start</code> : gives the section for which the TOC must be built.
For example <code class="code">~start:[2;3]</code> will build the TOC for subsections of
the second <code class="code">H1</code> header, and within that section, the third <code class="code">h2</code>
header. If a number is <code class="code">0</code>, it means to look for the first
section at that level but stop if one encounters any other
subsection. If no subsection exists, an empty TOC <code class="code">[]</code> will be
returned. Default: <code class="code">[]</code> i.e. list all sections, starting with the
first <code class="code">H1</code>.</div><div class="param_info"><code class="code">depth</code> : the table of contents. Default: <code class="code">2</code>.</div></div></div>
</div></div>
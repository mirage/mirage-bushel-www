<div class="ocaml_top"><div class="ocaml_summary"><div class="info">This module defines the <code class="code">Set</code> module for <code class="code">Core.Std</code>. We use &quot;core_set&quot; as the file
name rather than &quot;set&quot; to avoid conflicts with OCaml's standard set module.<p>This module uses the same organizational approach as <code class="code">Core_map</code>. See the
documentation in core_map.mli for a description of the approach.</p><p>Functions that construct a set take as an argument the comparator for the element
type.</p></div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">('elt, 'cmp) </code>t</span></pre><div class="info">The type of a set. The first type parameter identifies the type of the element, and
the second identifies the comparator, which determines the comparison function that is
used for ordering elements in this set. Many operations (e.g., union), require
that they be passed sets with the same element type and the same comparator type.</div>
<div class="ocaml_module" name="Tree"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Tree" class="ocaml_internal">Tree</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">('a, 'cmp) </code>t</span></pre><div class="info">A <code class="code">Tree.t</code> contains just the tree data structure that a set is based on, without
including the comparator. Accordingly, any operation on a <code class="code">Tree.t</code> must also take
as an argument the corresponding comparator.</div>
<div class="ocaml_include" path="http://mirage.github.io/core_kernel/#Core_set_intf:Creators_and_accessors2_with_comparator" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:Creators_and_accessors2_with_comparator">Core_set_intf.Creators_and_accessors2_with_comparator</a></code> with type set := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">t</a> with type t := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">t</a> with type tree := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type">('a -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a>) -&gt;
('cmp -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a>) -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre></div></div>
<pre class="odoccode"><span class="VALinvariants"><span class="keyword">val</span> invariants</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info">Tests internal invariants of the set data structure. Returns true on success.</div>
<pre class="odoccode"><span class="VALcomparator"><span class="keyword">val</span> comparator</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a></code></pre>
<pre class="odoccode"><span class="VALempty"><span class="keyword">val</span> empty</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info">Creates an empty set based on the provided comparator.</div>
<pre class="odoccode"><span class="VALsingleton"><span class="keyword">val</span> singleton</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; 'a -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info">Creates a set based on the provided comparator that contains only the provided
element.</div>
<pre class="odoccode"><span class="VALlength"><span class="keyword">val</span> length</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; int</code></pre><div class="info">Returns the number of elements in the set. <code class="code">O(1)</code>.</div>
<pre class="odoccode"><span class="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info"><code class="code">is_empty t</code> is <code class="code">true</code> iff <code class="code">t</code> is empty. <code class="code">O(1)</code>.</div>
<pre class="odoccode"><span class="VALmem"><span class="keyword">val</span> mem</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; bool</code></pre><div class="info"><code class="code">mem t a</code> returns <code class="code">true</code> iff <code class="code">a</code> is in <code class="code">t</code>. <code class="code">O(log n)</code>.</div>
<pre class="odoccode"><span class="VALadd"><span class="keyword">val</span> add</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">add t a</code> returns a new set with <code class="code">a</code> added to <code class="code">t</code>, or returns <code class="code">t</code> if <code class="code">mem t a</code>.
<code class="code">O(log n)</code>.</div>
<pre class="odoccode"><span class="VALremove"><span class="keyword">val</span> remove</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">remove t a</code> returns a new set with <code class="code">a</code> removed from <code class="code">t</code> if <code class="code">mem t a</code>, or returns <code class="code">t</code>
otherwise. <code class="code">O(log n)</code>.</div>
<pre class="odoccode"><span class="VALunion"><span class="keyword">val</span> union</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">union t1 t2</code> returns the union of the two sets. <code class="code">O(length t1 + length t2)</code>.</div>
<pre class="odoccode"><span class="VALunion_list"><span class="keyword">val</span> union_list</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> list -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">union ~comparator list</code> returns the union of all the sets in <code class="code">list</code>. The
<code class="code">comparator</code> argument is required for the case where <code class="code">list</code> is empty.
<code class="code">O(max(List.length list, n log n))</code>, where <code class="code">n</code> is the sum of sizes of the input sets.</div>
<pre class="odoccode"><span class="VALinter"><span class="keyword">val</span> inter</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">inter t1 t2</code> computes the intersection of sets <code class="code">t1</code> and <code class="code">t2</code>. <code class="code">O(log(length t1) +
    log(length t2))</code>.</div>
<pre class="odoccode"><span class="VALdiff"><span class="keyword">val</span> diff</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">diff t1 t2</code> computes the set difference <code class="code">t1 - t2</code>, i.e., the set containing all
elements in <code class="code">t1</code> that are not in <code class="code">t2</code>. <code class="code">O(log(length t1) + log(length t2))</code>.</div>
<pre class="odoccode"><span class="VALcompare_direct"><span class="keyword">val</span> compare_direct</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; int</code></pre><div class="info"><code class="code">compare_direct t1 t2</code> compares the sets <code class="code">t1</code> and <code class="code">t2</code>. It returns the same result
as <code class="code">compare</code>, but unlike compare, doesn't require arguments to be passed in for the
type parameters of the set. <code class="code">O(length t1 + length t2)</code>.</div>
<pre class="odoccode"><span class="VALequal"><span class="keyword">val</span> equal</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info"><code class="code">equal t1 t2</code> returns <code class="code">true</code> iff the two sets have the same elements. <code class="code">O(length t1 +
    length t2)</code></div>
<pre class="odoccode"><span class="VALexists"><span class="keyword">val</span> exists</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; bool</code></pre><div class="info"><code class="code">exists t ~f</code> returns <code class="code">true</code> iff there exists an <code class="code">a</code> in <code class="code">t</code> for which <code class="code">f a</code>. <code class="code">O(n)</code>,
but returns as soon as it finds an <code class="code">a</code> for which <code class="code">f a</code>.</div>
<pre class="odoccode"><span class="VALfor_all"><span class="keyword">val</span> for_all</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; bool</code></pre><div class="info"><code class="code">for_all t ~f</code> returns <code class="code">true</code> iff for all <code class="code">a</code> in <code class="code">t</code>, <code class="code">f a</code>. <code class="code">O(n)</code>, but returns as
soon as it finds an <code class="code">a</code> for which <code class="code">not (f a)</code>.</div>
<pre class="odoccode"><span class="VALcount"><span class="keyword">val</span> count</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; int</code></pre><div class="info"><code class="code">count t</code> returns the number of elements of <code class="code">t</code> for which <code class="code">f</code> returns <code class="code">true</code>.
<code class="code">O(n)</code>.</div>
<pre class="odoccode"><span class="VALfind"><span class="keyword">val</span> find</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; 'a option</code></pre><div class="info"><code class="code">find t f</code> returns an element of <code class="code">t</code> for which <code class="code">f</code> returns true, with no guarantee as
to which element is returned. <code class="code">O(n)</code>, but returns as soon as a suitable element is
found.</div>
<pre class="odoccode"><span class="VALfind_map"><span class="keyword">val</span> find_map</span> : <code class="type">('a, 'c) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; 'b option) -&gt; 'b option</code></pre><div class="info"><code class="code">find_map t f</code> returns <code class="code">b</code> for some <code class="code">a</code> in <code class="code">t</code> for which <code class="code">f a = Some b</code>. If no such
<code class="code">a</code> exists, then <code class="code">find</code> returns <code class="code">None</code>. <code class="code">O(n)</code>, but returns as soon as a suitable
element is found.</div>
<pre class="odoccode"><span class="VALfind_exn"><span class="keyword">val</span> find_exn</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; 'a</code></pre><div class="info">Like <code class="code">find</code>, but throws an exception on failure.</div>
<pre class="odoccode"><span class="VALfind_index"><span class="keyword">val</span> find_index</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; int -&gt; 'a option</code></pre><div class="info"><code class="code">find_index t i</code> returns the <code class="code">i</code>th smallest element of <code class="code">t</code>, in <code class="code">O(log n)</code> time. The
smallest element has <code class="code">i = 0</code>. Returns <code class="code">None</code> if <code class="code">i &lt; 0</code> or <code class="code">i &gt;= length t</code>.</div>
<pre class="odoccode"><span class="VALremove_index"><span class="keyword">val</span> remove_index</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; int -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">remove_index t i</code> returns a version of <code class="code">t</code> with the <code class="code">i</code>th smallest element removed,
in <code class="code">O(log n)</code> time. The smallest element has <code class="code">i = 0</code>. Returns <code class="code">t</code> if <code class="code">i &lt; 0</code> or
<code class="code">i &gt;= length t</code>.</div>
<pre class="odoccode"><span class="VALsubset"><span class="keyword">val</span> subset</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info"><code class="code">subset t1 t2</code> returns true iff <code class="code">t1</code> is a subset of <code class="code">t2</code>.</div>
<pre class="odoccode"><span class="VALof_list"><span class="keyword">val</span> of_list</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; 'a list -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info">The list or array given to <code class="code">of_list</code> and <code class="code">of_array</code> need not be sorted.</div>
<pre class="odoccode"><span class="VALof_array"><span class="keyword">val</span> of_array</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; 'a array -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALto_list"><span class="keyword">val</span> to_list</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a list</code></pre><div class="info"><code class="code">to_list</code> and <code class="code">to_array</code> produce sequences sorted in ascending order according to the
comparator.</div>
<pre class="odoccode"><span class="VALto_array"><span class="keyword">val</span> to_array</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a array</code></pre>
<pre class="odoccode"><span class="VALto_tree"><span class="keyword">val</span> to_tree</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">Tree.t</a></code></pre>
<pre class="odoccode"><span class="VALof_tree"><span class="keyword">val</span> of_tree</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">Tree.t</a> -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALof_sorted_array"><span class="keyword">val</span> of_sorted_array</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; 'a array -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/core_kernel/#Or_error.t">Or_error.t</a></code></pre><div class="info">Create set from sorted array. The input must be sorted (either in ascending or
descending order as given by the comparator) and contain no duplicates, otherwise the
result is an error. The complexity of this function is <code class="code">O(n)</code>.</div>
<pre class="odoccode"><span class="VALof_sorted_array_unchecked"><span class="keyword">val</span> of_sorted_array_unchecked</span> : <code class="type">comparator:('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; 'a array -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info">Similar to <code class="code">of_sorted_array</code>, but without checking the input array.</div>
<pre class="odoccode"><span class="VALstable_dedup_list"><span class="keyword">val</span> stable_dedup_list</span> : <code class="type">comparator:('a, 'b) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt; 'a list -&gt; 'a list</code></pre><div class="info"><code class="code">stable_dedup_list</code> is here rather than in the <code class="code">List</code> module because the
implementation relies crucially on sets, and because doing so allows one to avoid uses
of polymorphic comparison by instantiating the functor at a different implementation
of <code class="code">Comparator</code> and using the resulting <code class="code">stable_dedup_list</code>.</div>
<pre class="odoccode"><span class="VALmap"><span class="keyword">val</span> map</span> : <code class="type">comparator:('b, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt;
('a, 'c) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; 'b) -&gt; ('b, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">map ~comparator t ~f</code> returns a new set created by applying <code class="code">f</code> to every element in
<code class="code">t</code>. The returned set is based on the provided <code class="code">comparator</code>. <code class="code">O(n log n)</code>.</div>
<pre class="odoccode"><span class="VALfilter_map"><span class="keyword">val</span> filter_map</span> : <code class="type">comparator:('b, 'cmp) <a href="http://mirage.github.io/core_kernel/#Comparator.t">Comparator.t</a> -&gt;
('a, 'c) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; 'b option) -&gt; ('b, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info">Like map, except elements for which <code class="code">f</code> returns <code class="code">None</code> will be dropped.</div>
<pre class="odoccode"><span class="VALfilter"><span class="keyword">val</span> filter</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">filter t ~f</code> returns the subset of <code class="code">t</code> for which <code class="code">f</code> evaluates to true. <code class="code">O(n log
    n)</code>.</div>
<pre class="odoccode"><span class="VALfold"><span class="keyword">val</span> fold</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; init:'accum -&gt; f:('accum -&gt; 'a -&gt; 'accum) -&gt; 'accum</code></pre><div class="info"><code class="code">fold t ~init ~f</code> folds over the elements of the set from smallest to largest.</div>
<pre class="odoccode"><span class="VALfold_until"><span class="keyword">val</span> fold_until</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt;
init:'accum -&gt;
f:('accum -&gt; 'a -&gt; [ `Continue of 'accum | `Stop of 'accum ]) -&gt; 'accum</code></pre><div class="info">Like fold, except that it will terminate early, if <code class="code">f</code> returns <code class="code">`Stop</code>.</div>
<pre class="odoccode"><span class="VALfold_right"><span class="keyword">val</span> fold_right</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; init:'accum -&gt; f:('a -&gt; 'accum -&gt; 'accum) -&gt; 'accum</code></pre><div class="info">Like fold, except that it goes from the largest to the smallest element.</div>
<pre class="odoccode"><span class="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; unit) -&gt; unit</code></pre><div class="info"><code class="code">iter t ~f</code> calls <code class="code">f</code> on every element of <code class="code">t</code>, going in order from the smallest to
largest.</div>
<pre class="odoccode"><span class="VALiter2"><span class="keyword">val</span> iter2</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt;
('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt;
f:([ `Both of 'a * 'a | `Left of 'a | `Right of 'a ] -&gt; unit) -&gt; unit</code></pre><div class="info">Iterate two sets side by side. Complexity is <code class="code">O(m+n)</code> where <code class="code">m</code> and <code class="code">n</code> are the sizes
of the two input sets. As an example, with the inputs <code class="code">0; 1</code> and <code class="code">1; 2</code>, <code class="code">f</code> will be
called with <code class="code">`Left 0</code>; <code class="code">`Both (1, 1)</code>; and <code class="code">`Right 2</code>.</div>
<pre class="odoccode"><span class="VALpartition_tf"><span class="keyword">val</span> partition_tf</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> * ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info">if <code class="code">a, b = partition_tf set ~f</code> then <code class="code">a</code> is the elements on which <code class="code">f</code> produced <code class="code">true</code>,
and <code class="code">b</code> is the elements on which <code class="code">f</code> produces <code class="code">false</code>.</div>
<pre class="odoccode"><span class="VALelements"><span class="keyword">val</span> elements</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a list</code></pre><div class="info">Same as to_list.</div>
<pre class="odoccode"><span class="VALmin_elt"><span class="keyword">val</span> min_elt</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre><div class="info">Returns the smallest element of the set. <code class="code">O(log n)</code>.</div><div class="info">Like min_elt, but throws an exception when given an empty set.</div>
<pre class="odoccode"><span class="VALmin_elt_exn"><span class="keyword">val</span> min_elt_exn</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALmax_elt"><span class="keyword">val</span> max_elt</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre><div class="info">Returns the largest element of the set. <code class="code">O(log n)</code>.</div><div class="info">Like max_elt, but throws an exception when given an empty set.</div>
<pre class="odoccode"><span class="VALmax_elt_exn"><span class="keyword">val</span> max_elt_exn</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALchoose"><span class="keyword">val</span> choose</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre><div class="info">returns an arbitrary element, or <code class="code">None</code> if the set is empty.</div><div class="info">Like choose, but throws an exception on an empty set.</div>
<pre class="odoccode"><span class="VALchoose_exn"><span class="keyword">val</span> choose_exn</span> : <code class="type">('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALsplit"><span class="keyword">val</span> split</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> * bool * ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">split t x</code> produces a triple <code class="code">(t1, b, t2)</code> where <code class="code">t1</code> is the set of elements strictly
less than <code class="code">x</code>, <code class="code">b = mem set x</code>, and <code class="code">t2</code> is the set of elements strictly larger than
<code class="code">x</code>.</div>
<pre class="odoccode"><span class="VALgroup_by"><span class="keyword">val</span> group_by</span> : <code class="type">('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; equiv:('a -&gt; 'a -&gt; bool) -&gt; ('a, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> list</code></pre><div class="info">if <code class="code">equiv</code> is an equivalence predicate, then <code class="code">group_by set ~equiv</code> produces a list
of equivalence classes (i.e., a set-theoretic quotient). E.g.,<pre class="code"><code>      let chars = Set.of_list ['A'; 'a'; 'b'; 'c'] in
      let equiv c c' = Char.equal (Char.uppercase c) (Char.uppercase c') in
      group_by chars ~equiv</code></pre><p>produces:</p><pre class="code"><code>      Set.of_list['A';'a']; Set.singleton 'b'; Set.singleton 'c']</code></pre><p><code class="code">group_by</code> runs in O(n^2) time.</p></div>
<div class="info"><h1 id="1_TITLE">Polymorphic sets</h1><p>Module Poly deals with sets that use OCaml's polymorphic comparison to compare
elements.</p></div>
<div class="ocaml_module" name="Poly"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Poly" class="ocaml_internal">Poly</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code> with type <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.set" class="ocaml_internal">set</a> := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEset"><span class="keyword">type</span> <code class="type">('a, 'b) </code>set</span></pre>
<div class="ocaml_module" name="Tree"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.Tree" class="ocaml_internal">Tree</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'elt </code>t</span> = <code class="type">('elt, <a href="http://mirage.github.io/core_kernel/#Comparator.Poly.comparator_witness">Comparator.Poly.comparator_witness</a>) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">Tree.t</a></code></pre>
<div class="ocaml_include" path="http://mirage.github.io/core_kernel/#Core_set_intf:Creators_and_accessors1" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:Creators_and_accessors1">Core_set_intf.Creators_and_accessors1</a></code> with type set := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">Tree.t</a> with type t := 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.Tree.t" class="ocaml_internal">t</a> with type tree := 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.Tree.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type">(<a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; 'elt) -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.Tree.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type">('elt -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a>) -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.Tree.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre></div></div>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'elt </code>t</span> = <code class="type">('elt, <a href="http://mirage.github.io/core_kernel/#Comparator.Poly.comparator_witness">Comparator.Poly.comparator_witness</a>) <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.set" class="ocaml_internal">set</a></code></pre>
<div class="ocaml_include" path="http://mirage.github.io/core_kernel/#Core_set_intf:Creators_and_accessors1" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:Creators_and_accessors1">Core_set_intf.Creators_and_accessors1</a></code> with type set := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.set" class="ocaml_internal">set</a> with type t := 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> with type tree := 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.Tree.t" class="ocaml_internal">Tree.t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type">(<a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; 'elt) -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type">('elt -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a>) -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> -&gt; <a href="http://mirage.github.io/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre>
<pre class="odoccode"><span class="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">('elt -&gt; 'elt -&gt; int) -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> -&gt; int</code></pre>
<pre class="odoccode"><span class="VALbin_t"><span class="keyword">val</span> bin_t</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Type_class.t">Bin_prot.Type_class.t</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/bin_prot/#Type_class.t">Bin_prot.Type_class.t</a></code></pre>
<pre class="odoccode"><span class="VALbin_read_t"><span class="keyword">val</span> bin_read_t</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Read.reader">Bin_prot.Read.reader</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/bin_prot/#Read.reader">Bin_prot.Read.reader</a></code></pre>
<pre class="odoccode"><span class="VAL__bin_read_t__"><span class="keyword">val</span> __bin_read_t__</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Read.reader">Bin_prot.Read.reader</a> -&gt; (int -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a>) <a href="http://mirage.github.io/bin_prot/#Read.reader">Bin_prot.Read.reader</a></code></pre>
<pre class="odoccode"><span class="VALbin_reader_t"><span class="keyword">val</span> bin_reader_t</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Type_class.reader">Bin_prot.Type_class.reader</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/bin_prot/#Type_class.reader">Bin_prot.Type_class.reader</a></code></pre>
<pre class="odoccode"><span class="VALbin_size_t"><span class="keyword">val</span> bin_size_t</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Size.sizer">Bin_prot.Size.sizer</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/bin_prot/#Size.sizer">Bin_prot.Size.sizer</a></code></pre>
<pre class="odoccode"><span class="VALbin_write_t"><span class="keyword">val</span> bin_write_t</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Write.writer">Bin_prot.Write.writer</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/bin_prot/#Write.writer">Bin_prot.Write.writer</a></code></pre>
<pre class="odoccode"><span class="VALbin_writer_t"><span class="keyword">val</span> bin_writer_t</span> : <code class="type">'elt <a href="http://mirage.github.io/bin_prot/#Type_class.writer">Bin_prot.Type_class.writer</a> -&gt; 'elt <a href="http://mirage.github.io/core_kernel/#Core_set.Poly.t" class="ocaml_internal">t</a> <a href="http://mirage.github.io/bin_prot/#Type_class.writer">Bin_prot.Type_class.writer</a></code></pre></div></div>
<div class="info"><h1 id="1_TITLE">Signatures and functors for building <code class="code">Set</code> modules</h1></div>
<div class="ocaml_modtype" name="Elt" path="http://mirage.github.io/core_kernel/#Core_set_intf:Elt"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://mirage.github.io/core_kernel/#Core_set:Elt" class="ocaml_internal">Elt</a> = <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:Elt">Core_set_intf.Elt</a></code></code></pre><div class="ocaml_summary"><div class="info">The signature that something needs to match in order to be used as a set element.</div></div></div>
<div class="ocaml_modtype" name="Elt_binable" path="http://mirage.github.io/core_kernel/#Core_set_intf:Elt_binable"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://mirage.github.io/core_kernel/#Core_set:Elt_binable" class="ocaml_internal">Elt_binable</a> = <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:Elt_binable">Core_set_intf.Elt_binable</a></code></code></pre><div class="ocaml_summary"><div class="info">The signature that something needs to match in order to be used as a set element if
the resulting set is going to support <code class="code">bin_io</code>.</div></div></div>
<div class="ocaml_modtype" name="S" path="http://mirage.github.io/core_kernel/#Core_set_intf:S0"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://mirage.github.io/core_kernel/#Core_set:S" class="ocaml_internal">S</a> = <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:S0">Core_set_intf.S0</a></code> with type set := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> with type tree := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">Tree.t</a></code></pre><div class="ocaml_summary"><div class="info">Module signature for a Set.</div></div></div>
<div class="ocaml_modtype" name="S_binable" path="http://mirage.github.io/core_kernel/#Core_set_intf:S0_binable"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://mirage.github.io/core_kernel/#Core_set:S_binable" class="ocaml_internal">S_binable</a> = <code class="type"><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set_intf:S0_binable">Core_set_intf.S0_binable</a></code> with type set := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> with type tree := ('a, 'b) <a href="http://mirage.github.io/core_kernel/#Core_set.Tree.t" class="ocaml_internal">Tree.t</a></code></pre><div class="ocaml_summary"><div class="info">Module signature for a Set that supports <code class="code">bin_io</code>.</div></div></div>
<div class="ocaml_module" name="Make" path="http://mirage.github.io/core_kernel/#Core_set:S"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Make" class="ocaml_internal">Make</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">Elt</code><code class="code"> : </code><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set:Elt" class="ocaml_internal">Elt</a></code><code class="code">) -&gt; </code><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set:S" class="ocaml_internal">S</a></code> with type Elt.t = Elt.t</div></code></pre><div class="ocaml_summary"><div class="info"><code class="code">Make</code> builds a set from an element type that has a <code class="code">compare</code> function but doesn't
have a comparator. This generates a new comparator.<p><code class="code">Make_binable</code> is similar, except the element and set types support <code class="code">bin_io</code>.</p></div></div></div>
<div class="ocaml_module" name="Make_binable" path="http://mirage.github.io/core_kernel/#Core_set:S_binable"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Make_binable" class="ocaml_internal">Make_binable</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">Elt</code><code class="code"> : </code><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set:Elt_binable" class="ocaml_internal">Elt_binable</a></code><code class="code">) -&gt; </code><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set:S_binable" class="ocaml_internal">S_binable</a></code> with type Elt.t = Elt.t</div></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_module" name="Make_using_comparator" path="http://mirage.github.io/core_kernel/#Core_set:S"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Make_using_comparator" class="ocaml_internal">Make_using_comparator</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">Elt</code><code class="code"> : </code><code class="code">sig</code> .. <code class="code">end</code><code class="code">) -&gt; </code><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set:S" class="ocaml_internal">S</a></code> with type Elt.t = Elt.t with type Elt.comparator_witness = Elt.comparator_witness</div></code></pre><div class="ocaml_summary"><div class="info"><code class="code">Make_using_comparator</code> builds a set from an element type that has a comparator.<p><code class="code">Make_binable_using_comparator</code> is similar, except the element and set types support
<code class="code">bin_io</code>.</p></div></div></div>
<div class="ocaml_module" name="Make_binable_using_comparator" path="http://mirage.github.io/core_kernel/#Core_set:S_binable"><pre class="odoccode"><span class="keyword">module</span> <a href="http://mirage.github.io/core_kernel/#Core_set.Make_binable_using_comparator" class="ocaml_internal">Make_binable_using_comparator</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">Elt</code><code class="code"> : </code><code class="code">sig</code> .. <code class="code">end</code><code class="code">) -&gt; </code><code class="code"><a href="http://mirage.github.io/core_kernel/#Core_set:S_binable" class="ocaml_internal">S_binable</a></code> with type Elt.t = Elt.t with type Elt.comparator_witness = Elt.comparator_witness</div></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">('elt -&gt; 'elt -&gt; int) -&gt;
('cmp -&gt; 'cmp -&gt; int) -&gt; ('elt, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; ('elt, 'cmp) <a href="http://mirage.github.io/core_kernel/#Core_set.t" class="ocaml_internal">t</a> -&gt; int</code></pre>
</div></div>